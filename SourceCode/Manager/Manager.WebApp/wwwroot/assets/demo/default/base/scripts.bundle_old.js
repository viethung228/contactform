this.Element && function (t) { t.matches = t.matches || t.matchesSelector || t.webkitMatchesSelector || t.msMatchesSelector || function (t) { for (var e = this, a = (e.parentNode || e.document).querySelectorAll(t), n = -1; a[++n] && a[n] != e;); return !!a[n] } }(Element.prototype), this.Element && function (t) { t.closest = t.closest || function (t) { for (var e = this; e.matches && !e.matches(t);)e = e.parentNode; return e.matches ? e : null } }(Element.prototype), this.Element && function (t) { t.matches = t.matches || t.matchesSelector || t.webkitMatchesSelector || t.msMatchesSelector || function (t) { for (var e = this, a = (e.parentNode || e.document).querySelectorAll(t), n = -1; a[++n] && a[n] != e;); return !!a[n] } }(Element.prototype), function () { for (var o = 0, t = ["webkit", "moz"], e = 0; e < t.length && !window.requestAnimationFrame; ++e)window.requestAnimationFrame = window[t[e] + "RequestAnimationFrame"], window.cancelAnimationFrame = window[t[e] + "CancelAnimationFrame"] || window[t[e] + "CancelRequestAnimationFrame"]; window.requestAnimationFrame || (window.requestAnimationFrame = function (t) { var e = (new Date).getTime(), a = Math.max(0, 16 - (e - o)), n = window.setTimeout(function () { t(e + a) }, a); return o = e + a, n }), window.cancelAnimationFrame || (window.cancelAnimationFrame = function (t) { clearTimeout(t) }) }(), [Element.prototype, Document.prototype, DocumentFragment.prototype].forEach(function (t) { t.hasOwnProperty("prepend") || Object.defineProperty(t, "prepend", { configurable: !0, enumerable: !0, writable: !0, value: function () { var t = Array.prototype.slice.call(arguments), a = document.createDocumentFragment(); t.forEach(function (t) { var e = t instanceof Node; a.appendChild(e ? t : document.createTextNode(String(t))) }), this.insertBefore(a, this.firstChild) } }) }), window.mUtilElementDataStore = {}, window.mUtilElementDataStoreID = 0, window.mUtilDelegatedEventHandlers = {}, window.noZensmooth = !0; var mUtil = function () { var a = [], n = { sm: 544, md: 768, lg: 1024, xl: 1200 }; return { init: function (t) { var e; t && t.breakpoints && (n = t.breakpoints), e = !1, window.addEventListener("resize", function () { clearTimeout(e), e = setTimeout(function () { !function () { for (var t = 0; t < a.length; t++)a[t].call() }() }, 250) }) }, addResizeHandler: function (t) { a.push(t) }, runResizeHandlers: function () { _runResizeHandlers() }, getURLParam: function (t) { for (var e, a = window.location.search.substring(1).split("&"), n = 0; n < a.length; n++)if ((e = a[n].split("="))[0] == t) return unescape(e[1]); return null }, isMobileDevice: function () { return this.getViewPort().width < this.getBreakpoint("lg") }, isDesktopDevice: function () { return !mUtil.isMobileDevice() }, getViewPort: function () { var t = window, e = "inner"; return "innerWidth" in window || (e = "client", t = document.documentElement || document.body), { width: t[e + "Width"], height: t[e + "Height"] } }, isInResponsiveRange: function (t) { var e = this.getViewPort().width; return "general" == t || "desktop" == t && e >= this.getBreakpoint("lg") + 1 || "tablet" == t && e >= this.getBreakpoint("md") + 1 && e < this.getBreakpoint("lg") || "mobile" == t && e <= this.getBreakpoint("md") || "desktop-and-tablet" == t && e >= this.getBreakpoint("md") + 1 || "tablet-and-mobile" == t && e <= this.getBreakpoint("lg") || "minimal-desktop-and-below" == t && e <= this.getBreakpoint("xl") }, getUniqueID: function (t) { return t + Math.floor(Math.random() * (new Date).getTime()) }, getBreakpoint: function (t) { return n[t] }, isset: function (t, e) { var a; if (-1 !== (e = e || "").indexOf("[")) throw new Error("Unsupported object path notation."); e = e.split("."); do { if (void 0 === t) return !1; if (a = e.shift(), !t.hasOwnProperty(a)) return !1; t = t[a] } while (e.length); return !0 }, getHighestZindex1: function (t) { for (var e, a; t && t !== document && t !== window;) { if (("absolute" === (e = mUtil.css(t, "position")) || "relative" === e || "fixed" === e) && (a = parseInt(elem.css("zIndex"), 10), !isNaN(a) && 0 !== a)) return a; t = t.parentNode } }, getHighestZindex: function (t) { for (var e, a, n = mUtil.get(t); n.length && n[0] !== document;) { if (("absolute" === (e = n.css("position")) || "relative" === e || "fixed" === e) && (a = parseInt(n.css("zIndex"), 10), !isNaN(a) && 0 !== a)) return a; n = n.parent() } }, hasFixedPositionedParent: function (t) { for (; t && t !== document;) { if (position = mUtil.css(t, "position"), "fixed" === position) return !0; t = t.parentNode } return !1 }, sleep: function (t) { for (var e = (new Date).getTime(), a = 0; a < 1e7 && !((new Date).getTime() - e > t); a++); }, getRandomInt: function (t, e) { return Math.floor(Math.random() * (e - t + 1)) + t }, isAngularVersion: function () { return void 0 !== window.Zone }, deepExtend: function (t) { t = t || {}; for (var e = 1; e < arguments.length; e++) { var a = arguments[e]; if (a) for (var n in a) a.hasOwnProperty(n) && ("object" == typeof a[n] ? t[n] = mUtil.deepExtend(t[n], a[n]) : t[n] = a[n]) } return t }, extend: function (t) { t = t || {}; for (var e = 1; e < arguments.length; e++)if (arguments[e]) for (var a in arguments[e]) arguments[e].hasOwnProperty(a) && (t[a] = arguments[e][a]); return t }, get: function (t) { var e; return t === document ? document : t && 1 === t.nodeType ? t : (e = document.getElementById(t)) ? e : (e = document.getElementsByTagName(t)) || (e = document.getElementsByClassName(t)) ? e[0] : null }, hasClasses: function (t, e) { if (t) { for (var a = e.split(" "), n = 0; n < a.length; n++)if (0 == mUtil.hasClass(t, mUtil.trim(a[n]))) return !1; return !0 } }, hasClass: function (t, e) { if (t) return t.classList ? t.classList.contains(e) : new RegExp("\\b" + e + "\\b").test(t.className) }, addClass: function (t, e) { if (t) { var a = e.split(" "); if (t.classList) for (var n = 0; n < a.length; n++)a[n] && 0 < a[n].length && t.classList.add(mUtil.trim(a[n])); else if (!hasClass(t, e)) for (n = 0; n < a.length; n++)t.className += " " + mUtil.trim(a[n]) } }, removeClass: function (t, e) { if (t) { var a = e.split(" "); if (t.classList) for (var n = 0; n < a.length; n++)t.classList.remove(mUtil.trim(a[n])); else if (mUtil.hasClass(t, e)) for (n = 0; n < a.length; n++)t.className = t.className.replace(new RegExp("\\b" + mUtil.trim(a[n]) + "\\b", "g"), "") } }, triggerCustomEvent: function (t, e, a) { var n; window.CustomEvent ? n = new CustomEvent(e, { detail: a }) : (n = document.createEvent("CustomEvent")).initCustomEvent(e, !0, !0, a), t.dispatchEvent(n) }, trim: function (t) { return t.trim() }, eventTriggered: function (t) { return !!t.currentTarget.dataset.triggered || !(t.currentTarget.dataset.triggered = !0) }, remove: function (t) { t && t.parentNode && t.parentNode.removeChild(t) }, find: function (t, e) { return t.querySelector(e) }, findAll: function (t, e) { return t.querySelectorAll(e) }, insertAfter: function (t, e) { return e.parentNode.insertBefore(t, e.nextSibling) }, parents: function (t, n) { return function (t) { for (var e = document.querySelectorAll(n), a = t.parentNode; a && !function (t, e) { for (var a = 0, n = t.length; a < n; a++)if (t[a] == e) return 1 }(e, a);)a = a.parentNode; return a }(t) }, children: function (t, e, a) { if (t && t.childNodes) { for (var n = [], o = 0, i = t.childNodes.length; o < i; ++o)1 == t.childNodes[o].nodeType && mUtil.matches(t.childNodes[o], e, a) && n.push(t.childNodes[o]); return n } }, child: function (t, e, a) { var n = mUtil.children(t, e, a); return n ? n[0] : null }, matches: function (t, e, a) { var n = Element.prototype, o = n.matches || n.webkitMatchesSelector || n.mozMatchesSelector || n.msMatchesSelector || function (t) { return -1 !== [].indexOf.call(document.querySelectorAll(t), this) }; return !(!t || !t.tagName) && o.call(t, e) }, data: function (a) { return a = mUtil.get(a), { set: function (t, e) { void 0 === a.customDataTag && (mUtilElementDataStoreID++ , a.customDataTag = mUtilElementDataStoreID), void 0 === mUtilElementDataStore[a.customDataTag] && (mUtilElementDataStore[a.customDataTag] = {}), mUtilElementDataStore[a.customDataTag][t] = e }, get: function (t) { return this.has(t) ? mUtilElementDataStore[a.customDataTag][t] : null }, has: function (t) { return !(!mUtilElementDataStore[a.customDataTag] || !mUtilElementDataStore[a.customDataTag][t]) }, remove: function (t) { this.has(t) && delete mUtilElementDataStore[a.customDataTag][t] } } }, outerWidth: function (t, e) { if (!0 !== e) return parseFloat(t.offsetWidth); var a = parseFloat(t.offsetWidth); return a += parseFloat(mUtil.css(t, "margin-left")) + parseFloat(mUtil.css(t, "margin-right")), parseFloat(a) }, offset: function (t) { var e = t.getBoundingClientRect(); return { top: e.top + document.body.scrollTop, left: e.left + document.body.scrollLeft } }, height: function (t) { return mUtil.css(t, "height") }, visible: function (t) { return !(0 === t.offsetWidth && 0 === t.offsetHeight) }, attr: function (t, e, a) { if (null != (t = mUtil.get(t))) return void 0 === a ? t.getAttribute(e) : void t.setAttribute(e, a) }, hasAttr: function (t, e) { if (null != (t = mUtil.get(t))) return !!t.getAttribute(e) }, removeAttr: function (t, e) { null != (t = mUtil.get(t)) && t.removeAttribute(e) }, animate: function (n, o, i, l, r, s) { var d, c, m, t = { linear: function (t, e, a, n) { return a * t / n + e } }; "number" == typeof n && "number" == typeof o && "number" == typeof i && "function" == typeof l && ("string" == typeof r && t[r] && (r = t[r]), "function" != typeof r && (r = t.linear), "function" != typeof s && (s = function () { }), d = window.requestAnimationFrame || function (t) { window.setTimeout(t, 1e3 / 60) }, c = o - n, l(n), m = window.performance && window.performance.now ? window.performance.now() : +new Date, d(function t(e) { var a = (e || +new Date) - m; 0 <= a && l(r(a, n, c, i)), 0 <= a && i <= a ? (l(o), s()) : d(t) })) }, actualCss: function (t, e, a) { var n; if (t instanceof HTMLElement != 0) return t.getAttribute("m-hidden-" + e) && !1 !== a ? parseFloat(t.getAttribute("m-hidden-" + e)) : (t.style.cssText = "position: absolute; visibility: hidden; display: block;", "width" == e ? n = t.offsetWidth : "height" == e && (n = t.offsetHeight), t.style.cssText = "", t.setAttribute("m-hidden-" + e, n), parseFloat(n)) }, actualHeight: function (t, e) { return mUtil.actualCss(t, "height", e) }, actualWidth: function (t, e) { return mUtil.actualCss(t, "width", e) }, getScroll: function (t, e) { return e = "scroll" + e, t == window || t == document ? self["scrollTop" == e ? "pageYOffset" : "pageXOffset"] || browserSupportsBoxModel && document.documentElement[e] || document.body[e] : t[e] }, css: function (t, e, a) { if (t = mUtil.get(t), void 0 !== a) t.style[e] = a; else { var n = (t.ownerDocument || document).defaultView; if (n && n.getComputedStyle) return e = e.replace(/([A-Z])/g, "-$1").toLowerCase(), n.getComputedStyle(t, null).getPropertyValue(e); if (t.currentStyle) return e = e.replace(/\-(\w)/g, function (t, e) { return e.toUpperCase() }), a = t.currentStyle[e], /^\d+(em|pt|%|ex)?$/i.test(a) ? (o = a, i = t.style.left, l = t.runtimeStyle.left, t.runtimeStyle.left = t.currentStyle.left, t.style.left = o || 0, o = t.style.pixelLeft + "px", t.style.left = i, t.runtimeStyle.left = l, o) : a } var o, i, l }, slide: function (e, t, a, n, o) { var i, l, r; !e || "up" == t && !1 === mUtil.visible(e) || "down" == t && !0 === mUtil.visible(e) || (a = a || 600, i = mUtil.actualHeight(e), r = l = !1, mUtil.css(e, "padding-top") && !0 !== mUtil.data(e).has("slide-padding-top") && mUtil.data(e).set("slide-padding-top", mUtil.css(e, "padding-top")), mUtil.css(e, "padding-bottom") && !0 !== mUtil.data(e).has("slide-padding-bottom") && mUtil.data(e).set("slide-padding-bottom", mUtil.css(e, "padding-bottom")), mUtil.data(e).has("slide-padding-top") && (l = parseInt(mUtil.data(e).get("slide-padding-top"))), mUtil.data(e).has("slide-padding-bottom") && (r = parseInt(mUtil.data(e).get("slide-padding-bottom"))), "up" == t ? (e.style.cssText = "display: block; overflow: hidden;", l && mUtil.animate(0, l, a, function (t) { e.style.paddingTop = l - t + "px" }, "linear"), r && mUtil.animate(0, r, a, function (t) { e.style.paddingBottom = r - t + "px" }, "linear"), mUtil.animate(0, i, a, function (t) { e.style.height = i - t + "px" }, "linear", function () { n(), e.style.height = "", e.style.display = "none" })) : "down" == t && (e.style.cssText = "display: block; overflow: hidden;", l && mUtil.animate(0, l, a, function (t) { e.style.paddingTop = t + "px" }, "linear", function () { e.style.paddingTop = "" }), r && mUtil.animate(0, r, a, function (t) { e.style.paddingBottom = t + "px" }, "linear", function () { e.style.paddingBottom = "" }), mUtil.animate(0, i, a, function (t) { e.style.height = t + "px" }, "linear", function () { n(), e.style.height = "", e.style.display = "", e.style.overflow = "" }))) }, slideUp: function (t, e, a) { mUtil.slide(t, "up", e, a) }, slideDown: function (t, e, a) { mUtil.slide(t, "down", e, a) }, show: function (t, e) { t.style.display = e || "block" }, hide: function (t) { t.style.display = "none" }, addEvent: function (t, e, a, n) { void 0 !== (t = mUtil.get(t)) && t.addEventListener(e, a) }, removeEvent: function (t, e, a) { (t = mUtil.get(t)).removeEventListener(e, a) }, on: function (i, l, t, r) { if (l) { var e = mUtil.getUniqueID("event"); return mUtilDelegatedEventHandlers[e] = function (t) { for (var e = i.querySelectorAll(l), a = t.target; a && a !== i;) { for (var n = 0, o = e.length; n < o; n++)a === e[n] && r.call(a, t); a = a.parentNode } }, mUtil.addEvent(i, t, mUtilDelegatedEventHandlers[e]), e } }, off: function (t, e, a) { t && mUtilDelegatedEventHandlers[a] && (mUtil.removeEvent(t, e, mUtilDelegatedEventHandlers[a]), delete mUtilDelegatedEventHandlers[a]) }, one: function (t, e, a) { (t = mUtil.get(t)).addEventListener(e, function (t) { return t.target.removeEventListener(t.type, arguments.callee), a(t) }) }, hash: function (t) { var e, a = 0; if (0 === t.length) return a; for (e = 0; e < t.length; e++)a = (a << 5) - a + t.charCodeAt(e), a |= 0; return a }, animateClass: function (t, e, a) { mUtil.addClass(t, "animated " + e), mUtil.one(t, "webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend", function () { mUtil.removeClass(t, "animated " + e) }), a && mUtil.one(t.animationEnd, a) }, animateDelay: function (t, e) { for (var a = ["webkit-", "moz-", "ms-", "o-", ""], n = 0; n < a.length; n++)mUtil.css(t, a[n] + "animation-delay", e) }, animateDuration: function (t, e) { for (var a = ["webkit-", "moz-", "ms-", "o-", ""], n = 0; n < a.length; n++)mUtil.css(t, a[n] + "animation-duration", e) }, scrollTo: function (t, e, a) { a = a || 600, zenscroll.toY(t, a) }, scrollToViewport: function (t, e) { e = e || 1200, zenscroll.intoView(t, e) }, scrollToCenter: function (t, e) { e = e || 1200, zenscroll.center(t, e) }, scrollTop: function (t) { t = t || 600, zenscroll.toY(0, t) }, isArray: function (t) { return t && Array.isArray(t) }, ready: function (t) { (document.attachEvent ? "complete" === document.readyState : "loading" !== document.readyState) ? t() : document.addEventListener("DOMContentLoaded", t) } } }(); mUtil.ready(function () { mUtil.init() }); var mApp = function () { function e(t) { var e = t.data("skin") ? "m-tooltip--skin-" + t.data("skin") : "", a = "auto" == t.data("width") ? "m-tooltop--auto-width" : "", n = t.data("trigger") ? t.data("trigger") : "hover"; t.tooltip({ trigger: n, template: '<div class="m-tooltip ' + e + " " + a + ' tooltip" role="tooltip">                <div class="arrow"></div>                <div class="tooltip-inner"></div>            </div>' }) } function t() { $('[data-toggle="m-tooltip"]').each(function () { e($(this)) }) } function a(t) { var e = t.data("skin") ? "m-popover--skin-" + t.data("skin") : "", a = t.data("trigger") ? t.data("trigger") : "hover"; t.popover({ trigger: a, template: '            <div class="m-popover ' + e + ' popover" role="tooltip">                <div class="arrow"></div>                <h3 class="popover-header"></h3>                <div class="popover-body"></div>            </div>' }) } function n() { $('[data-toggle="m-popover"]').each(function () { a($(this)) }) } function o(t, e) { t = $(t), new mPortlet(t[0], e) } function i() { $('[m-portlet="true"]').each(function () { var t = $(this); !0 !== t.data("portlet-initialized") && (o(t, {}), t.data("portlet-initialized", !0)) }) } function l() { $("[data-tab-target]").each(function () { 1 != $(this).data("tabs-initialized") && ($(this).click(function (t) { t.preventDefault(); var e = $(this), a = e.closest('[data-tabs="true"]'), n = $(a.data("tabs-contents")), o = $(e.data("tab-target")); a.find(".m-tabs__item.m-tabs__item--active").removeClass("m-tabs__item--active"), e.addClass("m-tabs__item--active"), n.find(".m-tabs-content__item.m-tabs-content__item--active").removeClass("m-tabs-content__item--active"), o.addClass("m-tabs-content__item--active") }), $(this).data("tabs-initialized", !0)) }) } var r = { brand: "#716aca", metal: "#c4c5d6", light: "#ffffff", accent: "#00c5dc", primary: "#5867dd", success: "#34bfa3", info: "#36a3f7", warning: "#ffb822", danger: "#f4516c", focus: "#9816f4" }; return { init: function (t) { t && t.colors && (r = t.colors), mApp.initComponents() }, initComponents: function () { jQuery.event.special.touchstart = { setup: function (t, e, a) { "function" == typeof this && (e.includes("noPreventDefault") ? this.addEventListener("touchstart", a, { passive: !1 }) : this.addEventListener("touchstart", a, { passive: !0 })) } }, jQuery.event.special.touchmove = { setup: function (t, e, a) { "function" == typeof this && (e.includes("noPreventDefault") ? this.addEventListener("touchmove", a, { passive: !1 }) : this.addEventListener("touchmove", a, { passive: !0 })) } }, jQuery.event.special.wheel = { setup: function (t, e, a) { "function" == typeof this && (e.includes("noPreventDefault") ? this.addEventListener("wheel", a, { passive: !1 }) : this.addEventListener("wheel", a, { passive: !0 })) } }, $('[data-scrollable="true"]').each(function () { var t, e = $(this), a = mUtil.isInResponsiveRange("tablet-and-mobile") ? (t = e.data("mobile-max-height") ? e.data("mobile-max-height") : e.data("max-height"), e.data("mobile-height") ? e.data("mobile-height") : e.data("height")) : (t = e.data("max-height"), e.data("max-height")); t && e.css("max-height", t), a && e.css("height", a), mApp.initScroller(e, {}) }), t(), n(), $("body").on("click", "[data-close=alert]", function () { $(this).closest(".alert").hide() }), i(), $(".custom-file-input").on("change", function () { var t = $(this).val(); $(this).next(".custom-file-label").addClass("selected").html(t) }), l() }, initCustomTabs: function () { l() }, initTooltips: function () { t() }, initTooltip: function (t) { e(t) }, initPopovers: function () { n() }, initPopover: function (t) { a(t) }, initPortlet: function (t, e) { o(t, e) }, initPortlets: function () { i() }, scrollTo: function (t, e) { el = $(t); var a = el && 0 < el.length ? el.offset().top : 0; a += e || 0, jQuery("html,body").animate({ scrollTop: a }, "slow") }, scrollToViewport: function (t) { var e = $(t).offset().top, a = t.height(), n = e - (mUtil.getViewPort().height / 2 - a / 2); jQuery("html,body").animate({ scrollTop: n }, "slow") }, scrollTop: function () { mApp.scrollTo() }, initScroller: function (t, e, a) { mUtil.isMobileDevice() ? t.css("overflow", "auto") : (!0 !== a && mApp.destroyScroller(t), t.mCustomScrollbar({ scrollInertia: 0, autoDraggerLength: !0, autoHideScrollbar: !0, autoExpandScrollbar: !1, alwaysShowScrollbar: 0, axis: t.data("axis") ? t.data("axis") : "y", mouseWheel: { scrollAmount: 120, preventDefault: !0 }, setHeight: e.height ? e.height : "", theme: "minimal-dark" })) }, destroyScroller: function (t) { t.mCustomScrollbar("destroy"), t.removeClass("mCS_destroyed") }, alert: function (t) { t = $.extend(!0, { container: "", place: "append", type: "success", message: "", close: !0, reset: !0, focus: !0, closeInSeconds: 0, icon: "" }, t); var e = mUtil.getUniqueID("App_alert"), a = '<div id="' + e + '" class="custom-alerts alert alert-' + t.type + ' fade in">' + (t.close ? '<button type="button" class="close" data-dismiss="alert" aria-hidden="true"></button>' : "") + ("" !== t.icon ? '<i class="fa-lg fa fa-' + t.icon + '"></i>  ' : "") + t.message + "</div>"; return t.reset && $(".custom-alerts").remove(), t.container ? "append" == t.place ? $(t.container).append(a) : $(t.container).prepend(a) : 1 === $(".page-fixed-main-content").size() ? $(".page-fixed-main-content").prepend(a) : ($("body").hasClass("page-container-bg-solid") || $("body").hasClass("page-content-white")) && 0 === $(".page-head").size() ? $(".page-title").after(a) : 0 < $(".page-bar").size() ? $(".page-bar").after(a) : $(".page-breadcrumb, .breadcrumbs").after(a), t.focus && mApp.scrollTo($("#" + e)), 0 < t.closeInSeconds && setTimeout(function () { $("#" + e).remove() }, 1e3 * t.closeInSeconds), e }, block: function (t, e) { var a, n, o, i = $(t), l = "spinner" == (e = $.extend(!0, { opacity: .03, overlayColor: "#000000", state: "brand", type: "loader", size: "lg", centerX: !0, centerY: !0, message: "", shadow: !0, width: "auto" }, e)).type ? '<div class="m-spinner ' + (a = e.skin ? "m-spinner--skin-" + e.skin : "") + " " + (n = e.state ? "m-spinner--" + e.state : "") + '"></div' : (a = e.skin ? "m-loader--skin-" + e.skin : "", n = e.state ? "m-loader--" + e.state : "", size = e.size ? "m-loader--" + e.size : "", '<div class="m-loader ' + a + " " + n + " " + size + '"></div'); e.message && 0 < e.message.length ? (o = "m-blockui " + (!1 === e.shadow ? "m-blockui-no-shadow" : ""), html = '<div class="' + o + '"><span>' + e.message + "</span><span>" + l + "</span></div>", i = document.createElement("div"), mUtil.get("body").prepend(i), mUtil.addClass(i, o), i.innerHTML = "<span>" + e.message + "</span><span>" + l + "</span>", e.width = mUtil.actualWidth(i) + 10, mUtil.remove(i), "body" == t && (html = '<div class="' + o + '" style="margin-left:-' + e.width / 2 + 'px;"><span>' + e.message + "</span><span>" + l + "</span></div>")) : html = l; var r = { message: html, centerY: e.centerY, centerX: e.centerX, css: { top: "30%", left: "50%", border: "0", padding: "0", backgroundColor: "none", width: e.width }, overlayCSS: { backgroundColor: e.overlayColor, opacity: e.opacity, cursor: "wait", zIndex: "10" }, onUnblock: function () { i && (i.css("position", ""), i.css("zoom", "")) } }; "body" == t ? (r.css.top = "50%", $.blockUI(r)) : (i = $(t)).block(r) }, unblock: function (t) { t && "body" != t ? $(t).unblock() : $.unblockUI() }, blockPage: function (t) { return mApp.block("body", t) }, unblockPage: function () { return mApp.unblock("body") }, progress: function (t, e) { var a = "m-loader m-loader--" + (e && e.skin ? e.skin : "light") + " m-loader--" + (e && e.alignment ? e.alignment : "right") + " m-loader--" + (e && e.size ? "m-spinner--" + e.size : ""); mApp.unprogress(t), $(t).addClass(a), $(t).data("progress-classes", a) }, unprogress: function (t) { $(t).removeClass($(t).data("progress-classes")) }, getColor: function (t) { return r[t] } } }(); $(document).ready(function () { mApp.init({}) }), function (b) { if (void 0 === mUtil) throw new Error("mUtil is required and must be included before mDatatable."); b.fn.mDatatable = function (f) { if (0 !== b(this).length) { var g = this; g.debug = !1; var t, h = { isInit: !(g.API = { record: null, value: null, params: null }), offset: 110, stateId: "meta", ajaxParams: {}, init: function (t) { return null === t.data.source && h.extractTable(), h.setupBaseDOM.call(), h.setupDOM(g.table), h.spinnerCallback(!0), h.setDataSourceQuery(h.getOption("data.source.read.params.query")), b(g).on("m-datatable--on-layout-updated", h.afterRender), g.debug && h.stateRemove(h.stateId), b.each(h.getOption("extensions"), function (t, e) { "function" == typeof b.fn.mDatatable[t] && new b.fn.mDatatable[t](g, e) }), "remote" !== t.data.type && "local" !== t.data.type || ((!1 === t.data.saveState || !1 === t.data.saveState.cookie && !1 === t.data.saveState.webstorage) && h.stateRemove(h.stateId), "local" === t.data.type && "object" == typeof t.data.source && (g.dataSet = g.originalDataSet = h.dataMapCallback(t.data.source)), h.dataRender()), h.setHeadTitle(), h.setHeadTitle(g.tableFoot), void 0 !== t.layout.header && !1 === t.layout.header && b(g.table).find("thead").remove(), void 0 !== t.layout.footer && !1 === t.layout.footer && b(g.table).find("tfoot").remove(), null !== t.data.type && "local" !== t.data.type || (h.setupCellField.call(), h.setupTemplateCell.call(), h.setupSubDatatable.call(), h.setupSystemColumn.call(), h.redraw()), b(window).resize(h.fullRender), b(g).height(""), b(h.getOption("search.input")).on("keyup", function (t) { h.getOption("search.onEnter") && 13 !== t.which || h.search(b(this).val().toLowerCase()) }), g }, extractTable: function () { var i = [], n = b(g).find("tr:first-child th").get().map(function (t, e) { var a = b(t).data("field"); void 0 === a && (a = b(t).text().trim()); var n = { field: a, title: a }; for (var o in f.columns) f.columns[o].field === a && (n = b.extend(!0, {}, f.columns[o], n)); return i.push(n), a }); f.columns = i; var e = [], t = b(g).find("tr").get().map(function (t) { return b(t).find("td").length && e.push(b(t).prop("attributes")), b(t).find("td").get().map(function (t, e) { return b(t).html() }) }); f.data.attr.rowProps = e; var o = []; b.each(t, function (t, e) { var a; 0 !== e.length && (a = {}, b.each(e, function (t, e) { a[n[t]] = b.trim(e) }), o.push(a)) }), f.data.source = o }, layoutUpdate: function () { h.setupSubDatatable.call(), h.setupSystemColumn.call(), h.setupHover.call(), h.lockTable.call(), h.columnHide.call(), h.resetScroll(), h.isInit || (b(g).trigger("m-datatable--on-init", { table: b(g.wrap).attr("id"), options: f }), h.isInit = !0), b(g).trigger("m-datatable--on-layout-updated", { table: b(g.wrap).attr("id") }) }, lockTable: function () { var a = { lockEnabled: !1, init: function () { a.lockEnabled = h.lockEnabledColumns(), 0 === a.lockEnabled.left.length && 0 === a.lockEnabled.right.length || a.enable() }, enable: function () { b(g.table).find("thead,tbody,tfoot").each(function () { var e = this; 0 === b(this).find(".m-datatable__lock").length && b(this).ready(function () { var t, o, i, l; 0 < b(t = e).find(".m-datatable__lock").length ? h.log("Locked container already exist in: ", t) : 0 !== b(t).find(".m-datatable__row").length ? (o = b("<div/>").addClass("m-datatable__lock m-datatable__lock--left"), i = b("<div/>").addClass("m-datatable__lock m-datatable__lock--scroll"), l = b("<div/>").addClass("m-datatable__lock m-datatable__lock--right"), b(t).find(".m-datatable__row").each(function () { var e = b("<tr/>").addClass("m-datatable__row").appendTo(o), a = b("<tr/>").addClass("m-datatable__row").appendTo(i), n = b("<tr/>").addClass("m-datatable__row").appendTo(l); b(this).find(".m-datatable__cell").each(function () { var t = b(this).data("locked"); void 0 !== t ? (void 0 === t.left && !0 !== t || b(this).appendTo(e), void 0 !== t.right && b(this).appendTo(n)) : b(this).appendTo(a) }), b(this).remove() }), 0 < a.lockEnabled.left.length && (b(g.wrap).addClass("m-datatable--lock"), b(o).appendTo(t)), (0 < a.lockEnabled.left.length || 0 < a.lockEnabled.right.length) && b(i).appendTo(t), 0 < a.lockEnabled.right.length && (b(g.wrap).addClass("m-datatable--lock"), b(l).appendTo(t))) : h.log("No row exist in: ", t) }) }) } }; return a.init(), a }, fullRender: function () { h.spinnerCallback(!0), b(g.wrap).removeClass("m-datatable--loaded"), h.insertData() }, lockEnabledColumns: function () { var a = b(window).width(), t = f.columns, n = { left: [], right: [] }; return b.each(t, function (t, e) { void 0 !== e.locked && (void 0 !== e.locked.left && mUtil.getBreakpoint(e.locked.left) <= a && n.left.push(e.locked.left), void 0 !== e.locked.right && mUtil.getBreakpoint(e.locked.right) <= a && n.right.push(e.locked.right)) }), n }, afterRender: function (t, e) { e.table == b(g.wrap).attr("id") && b(g).ready(function () { h.isLocked() || (h.redraw(), h.getOption("rows.autoHide") && (h.autoHide(), b(g.table).find(".m-datatable__row").css("height", ""))), b(g.tableBody).find(".m-datatable__row").removeClass("m-datatable__row--even"), b(g.wrap).hasClass("m-datatable--subtable") ? b(g.tableBody).find(".m-datatable__row:not(.m-datatable__row-detail):even").addClass("m-datatable__row--even") : b(g.tableBody).find(".m-datatable__row:nth-child(even)").addClass("m-datatable__row--even"), h.isLocked() && h.redraw(), b(g.tableBody).css("visibility", ""), b(g.wrap).addClass("m-datatable--loaded"), h.scrollbar.call(), h.sorting.call(), h.spinnerCallback(!1) }) }, hoverTimer: 0, isScrolling: !1, setupHover: function () { b(window).scroll(function (t) { clearTimeout(h.hoverTimer), h.isScrolling = !0 }), b(g.tableBody).find(".m-datatable__cell").off("mouseenter", "mouseleave").on("mouseenter", function () { var t, e; h.hoverTimer = setTimeout(function () { h.isScrolling = !1 }, 200), h.isScrolling || (t = b(this).closest(".m-datatable__row").addClass("m-datatable__row--hover"), e = b(t).index() + 1, b(t).closest(".m-datatable__lock").parent().find(".m-datatable__row:nth-child(" + e + ")").addClass("m-datatable__row--hover")) }).on("mouseleave", function () { var t = b(this).closest(".m-datatable__row").removeClass("m-datatable__row--hover"), e = b(t).index() + 1; b(t).closest(".m-datatable__lock").parent().find(".m-datatable__row:nth-child(" + e + ")").removeClass("m-datatable__row--hover") }) }, adjustLockContainer: function () { if (!h.isLocked()) return 0; var t = b(g.tableHead).width(), e = b(g.tableHead).find(".m-datatable__lock--left").width(), a = b(g.tableHead).find(".m-datatable__lock--right").width(); void 0 === e && (e = 0), void 0 === a && (a = 0); var n = Math.floor(t - e - a); return b(g.table).find(".m-datatable__lock--scroll").css("width", n), n }, dragResize: function () { var i, l, r = !1, s = void 0; b(g.tableHead).find(".m-datatable__cell").mousedown(function (t) { s = b(this), r = !0, i = t.pageX, l = b(this).width(), b(s).addClass("m-datatable__cell--resizing") }).mousemove(function (a) { var n, t, e, o; r && (n = b(s).index(), o = b(g.tableBody), (t = b(s).closest(".m-datatable__lock")) && (e = b(t).index(), o = b(g.tableBody).find(".m-datatable__lock").eq(e)), b(o).find(".m-datatable__row").each(function (t, e) { b(e).find(".m-datatable__cell").eq(n).width(l + (a.pageX - i)).children().width(l + (a.pageX - i)) }), b(s).children().css("width", l + (a.pageX - i))) }).mouseup(function () { b(s).removeClass("m-datatable__cell--resizing"), r = !1 }), b(document).mouseup(function () { b(s).removeClass("m-datatable__cell--resizing"), r = !1 }) }, initHeight: function () { var t, e, a; f.layout.height && f.layout.scroll && (t = b(g.tableHead).find(".m-datatable__row").height(), e = b(g.tableFoot).find(".m-datatable__row").height(), a = f.layout.height, 0 < t && (a -= t), 0 < e && (a -= e), b(g.tableBody).css("max-height", a)) }, setupBaseDOM: function () { g.initialDatatable = b(g).clone(), "TABLE" === b(g).prop("tagName") ? (g.table = b(g).removeClass("m-datatable").addClass("m-datatable__table"), 0 === b(g.table).parents(".m-datatable").length && (g.table.wrap(b("<div/>").addClass("m-datatable").addClass("m-datatable--" + f.layout.theme)), g.wrap = b(g.table).parent())) : (g.wrap = b(g).addClass("m-datatable").addClass("m-datatable--" + f.layout.theme), g.table = b("<table/>").addClass("m-datatable__table").appendTo(g)), void 0 !== f.layout.class && b(g.wrap).addClass(f.layout.class), b(g.table).removeClass("m-datatable--destroyed").css("display", "block"), void 0 === b(g).attr("id") && (h.setOption("data.saveState", !1), b(g.table).attr("id", mUtil.getUniqueID("m-datatable--"))), h.getOption("layout.minHeight") && b(g.table).css("min-height", h.getOption("layout.minHeight")), h.getOption("layout.height") && b(g.table).css("max-height", h.getOption("layout.height")), null === f.data.type && b(g.table).css("width", "").css("display", ""), g.tableHead = b(g.table).find("thead"), 0 === b(g.tableHead).length && (g.tableHead = b("<thead/>").prependTo(g.table)), g.tableBody = b(g.table).find("tbody"), 0 === b(g.tableBody).length && (g.tableBody = b("<tbody/>").appendTo(g.table)), void 0 !== f.layout.footer && f.layout.footer && (g.tableFoot = b(g.table).find("tfoot"), 0 === b(g.tableFoot).length && (g.tableFoot = b("<tfoot/>").appendTo(g.table))) }, setupCellField: function (t) { void 0 === t && (t = b(g.table).children()); var a = f.columns; b.each(t, function (t, e) { b(e).find(".m-datatable__row").each(function (t, e) { b(e).find(".m-datatable__cell").each(function (t, e) { void 0 !== a[t] && b(e).data(a[t]) }) }) }) }, setupTemplateCell: function (t) { void 0 === t && (t = g.tableBody); var r = f.columns; b(t).find(".m-datatable__row").each(function (i, t) { var l = b(t).data("obj") || {}; l.getIndex = function () { return i }, l.getDatatable = function () { return g }; var e = h.getOption("rows.callback"); "function" == typeof e && e(b(t), l, i); var a = h.getOption("rows.beforeTemplate"); "function" == typeof a && a(b(t), l, i), void 0 === l && (l = {}, b(t).find(".m-datatable__cell").each(function (t, a) { var e = b.grep(r, function (t, e) { return b(a).data("field") === t.field })[0]; void 0 !== e && (l[e.field] = b(a).text()) })), b(t).find(".m-datatable__cell").each(function (t, a) { var e, n, o = b.grep(r, function (t, e) { return b(a).data("field") === t.field })[0]; void 0 !== o && void 0 !== o.template && (e = "", "string" == typeof o.template && (e = h.dataPlaceholder(o.template, l)), "function" == typeof o.template && (e = o.template(l, i, g)), n = b("<span/>").append(e), b(a).html(n), void 0 !== o.overflow && b(n).css("overflow", o.overflow)) }); var n = h.getOption("rows.afterTemplate"); "function" == typeof n && n(b(t), l, i) }) }, setupSystemColumn: function () { var i, t; g.dataSet = g.dataSet || [], 0 !== g.dataSet.length && (i = f.columns, b(g.tableBody).find(".m-datatable__row").each(function (t, e) { b(e).find(".m-datatable__cell").each(function (t, a) { var e = b.grep(i, function (t, e) { return b(a).data("field") === t.field })[0]; if (void 0 !== e) { var n = b(a).text(); if (void 0 !== e.selector && !1 !== e.selector) { if (0 < b(a).find('.m-checkbox [type="checkbox"]').length) return; b(a).addClass("m-datatable__cell--check"); var o = b("<label/>").addClass("m-checkbox m-checkbox--single").append(b("<input/>").attr("type", "checkbox").attr("value", n).on("click", function () { b(this).is(":checked") ? h.setActive(this) : h.setInactive(this) })).append(b("<span/>")); void 0 !== e.selector.class && b(o).addClass(e.selector.class), b(a).children().html(o) } if (void 0 !== e.subtable && e.subtable) { if (0 < b(a).find(".m-datatable__toggle-subtable").length) return; b(a).children().html(b("<a/>").addClass("m-datatable__toggle-subtable").attr("href", "#").attr("data-value", n).append(b("<i/>").addClass(h.getOption("layout.icons.rowDetail.collapse")))) } } }) }), t = function (t) { var e = b.grep(i, function (t, e) { return void 0 !== t.selector && !1 !== t.selector })[0]; if (void 0 !== e && void 0 !== e.selector && !1 !== e.selector) { var a = b(t).find('[data-field="' + e.field + '"]'); if (0 < b(a).find('.m-checkbox [type="checkbox"]').length) return; b(a).addClass("m-datatable__cell--check"); var n = b("<label/>").addClass("m-checkbox m-checkbox--single m-checkbox--all").append(b("<input/>").attr("type", "checkbox").on("click", function () { b(this).is(":checked") ? h.setActiveAll(!0) : h.setActiveAll(!1) })).append(b("<span/>")); void 0 !== e.selector.class && b(n).addClass(e.selector.class), b(a).children().html(n) } }, f.layout.header && t(b(g.tableHead).find(".m-datatable__row").first()), f.layout.footer && t(b(g.tableFoot).find(".m-datatable__row").first())) }, adjustCellsWidth: function () { var n, o, i, l = b(g.tableHead).width(), t = b(g.tableHead).find(".m-datatable__row:first-child").find(".m-datatable__cell:visible").length; return l < 768 && (l = 768), 0 < t && (o = n = 0, b(g.table).find("tr:first").find(".m-datatable__cell:visible").each(function (t, e) { var a = b(e).data("width"); b(e).hasClass("prefix-width") || (void 0 === a ? n++ : o += a) }), l -= 24 * t, (i = 0) < n && (i = Math.floor(l * (100 - o) / (100 * n))), i <= h.offset && (i = h.offset), b(g.table).find(".m-datatable__row").find(".m-datatable__cell:visible").each(function (t, e) { var a = i, n = b(e).data("width"); b(e).hasClass("prefix-width") ? a = n : null != n && (a = l * n / 100), b(e).children().css("width", a) })), g }, adjustCellsHeight: function () { b.each(b(g.table).children(), function (t, e) { for (var a = b(e).find(".m-datatable__row").first().parent().find(".m-datatable__row").length, n = 1; n <= a; n++) { var o, i = b(e).find(".m-datatable__row:nth-child(" + n + ")"); 0 < b(i).length && (o = Math.max.apply(null, b(i).map(function () { return b(this).height() }).get()), b(i).css("height", Math.ceil(parseInt(o)))) } }) }, setupDOM: function (t) { b(t).find("> thead").addClass("m-datatable__head"), b(t).find("> tbody").addClass("m-datatable__body"), b(t).find("> tfoot").addClass("m-datatable__foot"), b(t).find("tr").addClass("m-datatable__row"), b(t).find("tr > th, tr > td").addClass("m-datatable__cell"), b(t).find("tr > th, tr > td").each(function (t, e) { 0 === b(e).find("span").length && b(e).wrapInner(b("<span/>").css("width", h.offset)) }) }, scrollbar: function () { var n = { scrollable: null, tableLocked: null, mcsOptions: { scrollInertia: 0, autoDraggerLength: !0, autoHideScrollbar: !0, autoExpandScrollbar: !1, alwaysShowScrollbar: 0, mouseWheel: { scrollAmount: 120, preventDefault: !1 }, advanced: { updateOnContentResize: !0, autoExpandHorizontalScroll: !0 }, theme: "minimal-dark" }, init: function () { h.destroyScroller(n.scrollable); var t, e = mUtil.getViewPort().width; f.layout.scroll ? (b(g.wrap).addClass("m-datatable--scroll"), t = b(g.tableBody).find(".m-datatable__lock--scroll"), 0 < b(t).find(".m-datatable__row").length && 0 < b(t).length ? (n.scrollHead = b(g.tableHead).find("> .m-datatable__lock--scroll > .m-datatable__row"), n.scrollFoot = b(g.tableFoot).find("> .m-datatable__lock--scroll > .m-datatable__row"), n.tableLocked = b(g.tableBody).find(".m-datatable__lock:not(.m-datatable__lock--scroll)"), e > mUtil.getBreakpoint("lg") ? n.mCustomScrollbar(t) : n.defaultScrollbar(t)) : 0 < b(g.tableBody).find(".m-datatable__row").length && (n.scrollHead = b(g.tableHead).find("> .m-datatable__row"), n.scrollFoot = b(g.tableFoot).find("> .m-datatable__row"), e > mUtil.getBreakpoint("lg") ? n.mCustomScrollbar(g.tableBody) : n.defaultScrollbar(g.tableBody))) : b(g.table).css("overflow-x", "auto") }, defaultScrollbar: function (t) { b(t).css("overflow", "auto").css("max-height", h.getOption("layout.height")).on("scroll", n.onScrolling) }, onScrolling: function (t) { var e = b(this).scrollLeft(), a = b(this).scrollTop(); b(n.scrollHead).css("left", -e), b(n.scrollFoot).css("left", -e), b(n.tableLocked).each(function (t, e) { b(e).css("top", -a) }) }, mCustomScrollbar: function (t) { n.scrollable = t; var e = "xy"; null === h.getOption("layout.height") && (e = "x"); var a = b.extend({}, n.mcsOptions, { axis: e, setHeight: b(g.tableBody).height(), callbacks: { whileScrolling: function () { var a = this.mcs; b(n.scrollHead).css("left", a.left), b(n.scrollFoot).css("left", a.left), b(n.tableLocked).each(function (t, e) { b(e).css("top", a.top) }), clearTimeout(h.hoverTimer), h.isScrolling = !0 } } }); !0 === h.getOption("layout.smoothScroll.scrollbarShown") && b(t).attr("data-scrollbar-shown", "true"), h.mCustomScrollbar(t, a) } }; return n.init(), n }, mCustomScrollbar: function (t, e) { b(g.tableBody).css("overflow", ""), h.destroyScroller(b(g.table).find(".mCustomScrollbar")), b(t).mCustomScrollbar(e) }, setHeadTitle: function (t) { void 0 === t && (t = g.tableHead); var e = f.columns, o = b(t).find(".m-datatable__row"), i = b(t).find(".m-datatable__cell"); 0 === b(o).length && (o = b("<tr/>").appendTo(t)), b.each(e, function (t, e) { var a, n = b(i).eq(t); 0 === b(n).length && (n = b("<th/>").appendTo(o)), void 0 !== e.title && b(n).addClass(e.class).html(e.title).attr("data-field", e.field).data(e), void 0 !== e.textAlign && (a = void 0 !== g.textAlign[e.textAlign] ? g.textAlign[e.textAlign] : "", b(n).addClass(a)) }), h.setupDOM(t) }, dataRender: function (t) { b(g.table).siblings(".m-datatable__pager").removeClass("m-datatable--paging-loaded"); function n() { g.dataSet = g.dataSet || [], h.localDataUpdate(); var t = h.getDataSourceParam("pagination"); 0 === t.perpage && (t.perpage = f.data.pageSize || 10), t.total = g.dataSet.length; var e = Math.max(t.perpage * (t.page - 1), 0), a = Math.min(e + t.perpage, t.total); return g.dataSet = b(g.dataSet).slice(e, a), t } function e(t) { function e(e, a) { b(e.pager).hasClass("m-datatable--paging-loaded") || (b(e.pager).remove(), e.init(a)), b(e.pager).off().on("m-datatable--on-goto-page", function (t) { b(e.pager).remove(), e.init(a) }); var t = Math.max(a.perpage * (a.page - 1), 0), n = Math.min(t + a.perpage, a.total); h.localDataUpdate(), g.dataSet = b(g.dataSet).slice(t, n), h.insertData() } var a; b(g.wrap).removeClass("m-datatable--error"), f.pagination ? f.data.serverPaging && "local" !== f.data.type && null !== (a = h.getObject("meta", t || null)) ? h.paging(a) : h.paging(n(), e) : h.localDataUpdate(), h.insertData() } "local" === f.data.type || void 0 === f.data.source.read && null !== g.dataSet || !1 === f.data.serverSorting && "sort" === t || !1 === f.data.serverFiltering && "search" === t ? e() : h.getData().done(e) }, insertData: function () { g.dataSet = g.dataSet || []; var c = h.getDataSourceParam(), t = c.pagination, e = (Math.max(t.page, 1) - 1) * t.perpage, a = Math.min(t.page, t.pages) * t.perpage, m = {}; void 0 !== f.data.attr.rowProps && f.data.attr.rowProps.length && (m = f.data.attr.rowProps.slice(e, a)); var u = b("<tbody/>").addClass("m-datatable__body").css("visibility", "hidden"), p = f.columns.length; b.each(g.dataSet, function (t, e) { var a = b("<tr/>").attr("data-row", t).data("obj", e); void 0 !== m[t] && b.each(m[t], function () { b(a).attr(this.name, this.value) }); for (var n = 0, o = [], i = 0; i < p; i += 1) { var l, r = f.columns[i], s = []; h.getObject("sort.field", c) === r.field && s.push("m-datatable__cell--sorted"), void 0 !== r.textAlign && (l = void 0 !== g.textAlign[r.textAlign] ? g.textAlign[r.textAlign] : "", s.push(l)); var d = ""; void 0 !== r.class && (d = ' class="' + r.class + '"'), o[n++] = "<td" + d + ' data-field="' + r.field + '"', o[n++] = ' class="' + s.join(" ") + '"', o[n++] = ">", o[n++] = h.getObject(r.field, e), o[n++] = "</td>" } b(a).append(o.join("")), b(u).append(a) }), 0 === g.dataSet.length && (h.destroyScroller(b(g.table).find(".mCustomScrollbar")), b(u).html(b("<span/>").addClass("m-datatable--error").html(h.getOption("translate.records.noRecords"))), b(g.wrap).addClass("m-datatable--error m-datatable--loaded"), h.spinnerCallback(!1)), b(g.tableBody).replaceWith(u), g.tableBody = u, h.setupDOM(g.table), h.setupCellField([g.tableBody]), h.setupTemplateCell(g.tableBody), h.layoutUpdate() }, updateTableComponents: function () { g.tableHead = b(g.table).children("thead"), g.tableBody = b(g.table).children("tbody"), g.tableFoot = b(g.table).children("tfoot") }, getData: function () { h.spinnerCallback(!0); var t, e = { dataType: "json", method: "GET", data: {}, timeout: h.getOption("data.source.read.timeout") || 3e4 }; return "local" === f.data.type && (e.url = f.data.source), "remote" === f.data.type && (e.url = h.getOption("data.source.read.url"), "string" != typeof e.url && (e.url = h.getOption("data.source.read")), "string" != typeof e.url && (e.url = h.getOption("data.source")), e.headers = h.getOption("data.source.read.headers"), e.method = h.getOption("data.source.read.method") || "POST", t = h.getDataSourceParam(), h.getOption("data.serverPaging") || delete t.pagination, h.getOption("data.serverSorting") || delete t.sort, e.data = b.extend(!0, e.data, t, h.getOption("data.source.read.params"))), b.ajax(e).done(function (t, e, a) { g.lastResponse = t, g.dataSet = g.originalDataSet = h.dataMapCallback(t), h.setAutoColumns(), b(g).trigger("m-datatable--on-ajax-done", [g.dataSet]) }).fail(function (t, e, a) { h.destroyScroller(b(g.table).find(".mCustomScrollbar")), b(g).trigger("m-datatable--on-ajax-fail", [t]), b(g.tableBody).html(b("<span/>").addClass("m-datatable--error").html(h.getOption("translate.records.noRecords"))), b(g.wrap).addClass("m-datatable--error m-datatable--loaded"), h.spinnerCallback(!1) }).always(function () { }) }, paging: function (t, e) { var m = { meta: null, pager: null, paginateEvent: null, pagerLayout: { pagination: null, info: null }, callback: null, init: function (t) { m.meta = t, m.meta.pages = Math.max(Math.ceil(m.meta.total / m.meta.perpage), 1), m.meta.page > m.meta.pages && (m.meta.page = m.meta.pages), m.paginateEvent = h.getTablePrefix(), m.pager = b(g.table).siblings(".m-datatable__pager"), b(m.pager).hasClass("m-datatable--paging-loaded") || (b(m.pager).remove(), 0 !== m.meta.pages && (h.setDataSourceParam("pagination", { page: m.meta.page, pages: m.meta.pages, perpage: m.meta.perpage, total: m.meta.total }), m.callback = m.serverCallback, "function" == typeof e && (m.callback = e), m.addPaginateEvent(), m.populate(), m.meta.page = Math.max(m.meta.page || 1, m.meta.page), b(g).trigger(m.paginateEvent, m.meta), m.pagingBreakpoint.call(), b(window).resize(m.pagingBreakpoint))) }, serverCallback: function (t, e) { h.dataRender() }, populate: function () { var t = h.getOption("layout.icons.pagination"), e = h.getOption("translate.toolbar.pagination.items.default"); m.pager = b("<div/>").addClass("m-datatable__pager m-datatable--paging-loaded clearfix"); var a = b("<ul/>").addClass("m-datatable__pager-nav"); m.pagerLayout.pagination = a, b("<li/>").append(b("<a/>").attr("title", e.first).addClass("m-datatable__pager-link m-datatable__pager-link--first").append(b("<i/>").addClass(t.first)).on("click", m.gotoMorePage).attr("data-page", 1)).appendTo(a), b("<li/>").append(b("<a/>").attr("title", e.prev).addClass("m-datatable__pager-link m-datatable__pager-link--prev").append(b("<i/>").addClass(t.prev)).on("click", m.gotoMorePage)).appendTo(a), b("<li/>").append(b("<a/>").attr("title", e.more).addClass("m-datatable__pager-link m-datatable__pager-link--more-prev").html(b("<i/>").addClass(t.more)).on("click", m.gotoMorePage)).appendTo(a), b("<li/>").append(b("<input/>").attr("type", "text").addClass("m-pager-input form-control").attr("title", e.input).on("keyup", function () { b(this).attr("data-page", Math.abs(b(this).val())) }).on("keypress", function (t) { 13 === t.which && m.gotoMorePage(t) })).appendTo(a); var n = h.getOption("toolbar.items.pagination.pages.desktop.pagesNumber"), o = Math.ceil(m.meta.page / n) * n, i = o - n; o > m.meta.pages && (o = m.meta.pages); for (var l = i; l < o; l++) { var r = l + 1; b("<li/>").append(b("<a/>").addClass("m-datatable__pager-link m-datatable__pager-link-number").text(r).attr("data-page", r).attr("title", r).on("click", m.gotoPage)).appendTo(a) } b("<li/>").append(b("<a/>").attr("title", e.more).addClass("m-datatable__pager-link m-datatable__pager-link--more-next").html(b("<i/>").addClass(t.more)).on("click", m.gotoMorePage)).appendTo(a), b("<li/>").append(b("<a/>").attr("title", e.next).addClass("m-datatable__pager-link m-datatable__pager-link--next").append(b("<i/>").addClass(t.next)).on("click", m.gotoMorePage)).appendTo(a), b("<li/>").append(b("<a/>").attr("title", e.last).addClass("m-datatable__pager-link m-datatable__pager-link--last").append(b("<i/>").addClass(t.last)).on("click", m.gotoMorePage).attr("data-page", m.meta.pages)).appendTo(a), h.getOption("toolbar.items.info") && (m.pagerLayout.info = b("<div/>").addClass("m-datatable__pager-info").append(b("<span/>").addClass("m-datatable__pager-detail"))), b.each(h.getOption("toolbar.layout"), function (t, e) { b(m.pagerLayout[e]).appendTo(m.pager) }); var s = b("<select/>").addClass("selectpicker m-datatable__pager-size").attr("title", h.getOption("translate.toolbar.pagination.items.default.select")).attr("data-width", "70px").val(m.meta.perpage).on("change", m.updatePerpage).prependTo(m.pagerLayout.info), d = h.getOption("toolbar.items.pagination.pageSizeSelect"); 0 == d.length && (d = [10, 20, 30, 50, 100]), b.each(d, function (t, e) { var a = -1 === e ? "All" : e; b("<option/>").attr("value", e).html(a).appendTo(s) }), b(g).ready(function () { b(".selectpicker").selectpicker().siblings(".dropdown-toggle").attr("title", h.getOption("translate.toolbar.pagination.items.default.select")) }), m.paste() }, paste: function () { b.each(b.unique(h.getOption("toolbar.placement")), function (t, e) { "bottom" === e && b(m.pager).clone(!0).insertAfter(g.table), "top" === e && b(m.pager).clone(!0).addClass("m-datatable__pager--top").insertBefore(g.table) }) }, gotoMorePage: function (t) { if (t.preventDefault(), "disabled" === b(this).attr("disabled")) return !1; var e = b(this).attr("data-page"); return void 0 === e && (e = b(t.target).attr("data-page")), m.openPage(parseInt(e)), !1 }, gotoPage: function (t) { t.preventDefault(), b(this).hasClass("m-datatable__pager-link--active") || m.openPage(parseInt(b(this).data("page"))) }, openPage: function (t) { m.meta.page = parseInt(t), b(g).trigger(m.paginateEvent, m.meta), m.callback(m, m.meta), b(m.pager).trigger("m-datatable--on-goto-page", m.meta) }, updatePerpage: function (t) { t.preventDefault(), null === h.getOption("layout.height") && b("html, body").animate({ scrollTop: b(g).position().top }), m.pager = b(g.table).siblings(".m-datatable__pager").removeClass("m-datatable--paging-loaded"), t.originalEvent && (m.meta.perpage = parseInt(b(this).val())), b(m.pager).find("select.m-datatable__pager-size").val(m.meta.perpage).attr("data-selected", m.meta.perpage), h.setDataSourceParam("pagination", { page: m.meta.page, pages: m.meta.pages, perpage: m.meta.perpage, total: m.meta.total }), b(m.pager).trigger("m-datatable--on-update-perpage", m.meta), b(g).trigger(m.paginateEvent, m.meta), m.callback(m, m.meta), m.updateInfo.call() }, addPaginateEvent: function (t) { b(g).off(m.paginateEvent).on(m.paginateEvent, function (t, e) { h.spinnerCallback(!0), m.pager = b(g.table).siblings(".m-datatable__pager"); var a = b(m.pager).find(".m-datatable__pager-nav"); b(a).find(".m-datatable__pager-link--active").removeClass("m-datatable__pager-link--active"), b(a).find('.m-datatable__pager-link-number[data-page="' + e.page + '"]').addClass("m-datatable__pager-link--active"), b(a).find(".m-datatable__pager-link--prev").attr("data-page", Math.max(e.page - 1, 1)), b(a).find(".m-datatable__pager-link--next").attr("data-page", Math.min(e.page + 1, e.pages)), b(m.pager).each(function () { b(this).find('.m-pager-input[type="text"]').prop("value", e.page) }), b(m.pager).find(".m-datatable__pager-nav").show(), e.pages <= 1 && b(m.pager).find(".m-datatable__pager-nav").hide(), h.setDataSourceParam("pagination", { page: m.meta.page, pages: m.meta.pages, perpage: m.meta.perpage, total: m.meta.total }), b(m.pager).find("select.m-datatable__pager-size").val(e.perpage).attr("data-selected", e.perpage), b(g.table).find('.m-checkbox > [type="checkbox"]').prop("checked", !1), b(g.table).find(".m-datatable__row--active").removeClass("m-datatable__row--active"), m.updateInfo.call(), m.pagingBreakpoint.call() }) }, updateInfo: function () { var t = Math.max(m.meta.perpage * (m.meta.page - 1) + 1, 1), e = Math.min(t + m.meta.perpage - 1, m.meta.total); b(m.pager).find(".m-datatable__pager-info").find(".m-datatable__pager-detail").html(h.dataPlaceholder(h.getOption("translate.toolbar.pagination.items.info"), { start: 0 == m.meta.total ? 0 : t, end: -1 === m.meta.perpage ? m.meta.total : e, pageSize: -1 === m.meta.perpage || m.meta.perpage >= m.meta.total ? m.meta.total : m.meta.perpage, total: m.meta.total })) }, pagingBreakpoint: function () { var a, n, o = b(g.table).siblings(".m-datatable__pager").find(".m-datatable__pager-nav"); 0 !== b(o).length && (a = h.getCurrentPage(), n = b(o).find(".m-pager-input").closest("li"), b(o).find("li").show(), b.each(h.getOption("toolbar.items.pagination.pages"), function (t, e) { if (mUtil.isInResponsiveRange(t)) { switch (t) { case "desktop": case "tablet": Math.ceil(a / e.pagesNumber), e.pagesNumber, e.pagesNumber, b(n).hide(), m.meta = h.getDataSourceParam("pagination"), m.paginationUpdate(); break; case "mobile": b(n).show(), b(o).find(".m-datatable__pager-link--more-prev").closest("li").hide(), b(o).find(".m-datatable__pager-link--more-next").closest("li").hide(), b(o).find(".m-datatable__pager-link-number").closest("li").hide() }return !1 } })) }, paginationUpdate: function () { var t = b(g.table).siblings(".m-datatable__pager").find(".m-datatable__pager-nav"), e = b(t).find(".m-datatable__pager-link--more-prev"), a = b(t).find(".m-datatable__pager-link--more-next"), n = b(t).find(".m-datatable__pager-link--first"), o = b(t).find(".m-datatable__pager-link--prev"), i = b(t).find(".m-datatable__pager-link--next"), l = b(t).find(".m-datatable__pager-link--last"), r = b(t).find(".m-datatable__pager-link-number"), s = Math.max(b(r).first().data("page") - 1, 1); b(e).each(function (t, e) { b(e).attr("data-page", s) }), 1 === s ? b(e).parent().hide() : b(e).parent().show(); var d = Math.min(b(r).last().data("page") + 1, m.meta.pages); b(a).each(function (t, e) { b(a).attr("data-page", d).show() }), d === m.meta.pages && d === b(r).last().data("page") ? b(a).parent().hide() : b(a).parent().show(), 1 === m.meta.page ? (b(n).attr("disabled", !0).addClass("m-datatable__pager-link--disabled"), b(o).attr("disabled", !0).addClass("m-datatable__pager-link--disabled")) : (b(n).removeAttr("disabled").removeClass("m-datatable__pager-link--disabled"), b(o).removeAttr("disabled").removeClass("m-datatable__pager-link--disabled")), m.meta.page === m.meta.pages ? (b(i).attr("disabled", !0).addClass("m-datatable__pager-link--disabled"), b(l).attr("disabled", !0).addClass("m-datatable__pager-link--disabled")) : (b(i).removeAttr("disabled").removeClass("m-datatable__pager-link--disabled"), b(l).removeAttr("disabled").removeClass("m-datatable__pager-link--disabled")); var c = h.getOption("toolbar.items.pagination.navigation"); c.first || b(n).remove(), c.prev || b(o).remove(), c.next || b(i).remove(), c.last || b(l).remove() } }; return m.init(t), m }, columnHide: function () { var o = mUtil.getViewPort().width; b.each(f.columns, function (t, e) { var a, n; void 0 !== e.responsive && (a = e.field, n = b.grep(b(g.table).find(".m-datatable__cell"), function (t, e) { return a === b(t).data("field") }), mUtil.getBreakpoint(e.responsive.hidden) >= o ? b(n).hide() : b(n).show(), mUtil.getBreakpoint(e.responsive.visible) <= o ? b(n).show() : b(n).hide()) }) }, setupSubDatatable: function () { var o, i, l = h.getOption("detail.content"); "function" != typeof l || 0 < b(g.table).find(".m-datatable__subtable").length || (b(g.wrap).addClass("m-datatable--subtable"), f.columns[0].subtable = !0, o = function (a) { a.preventDefault(); var t = b(this).closest(".m-datatable__row"), e = b(t).next(".m-datatable__row-subtable"); 0 === b(e).length && (e = b("<tr/>").addClass("m-datatable__row-subtable m-datatable__row-loading").hide().append(b("<td/>").addClass("m-datatable__subtable").attr("colspan", h.getTotalColumns())), b(t).after(e), b(t).hasClass("m-datatable__row--even") && b(e).addClass("m-datatable__row-subtable--even")), b(e).toggle(); var n = b(e).find(".m-datatable__subtable"), o = b(this).closest("[data-field]:first-child").find(".m-datatable__toggle-subtable").data("value"), i = b(this).find("i").removeAttr("class"); b(t).hasClass("m-datatable__row--subtable-expanded") ? (b(i).addClass(h.getOption("layout.icons.rowDetail.collapse")), b(t).removeClass("m-datatable__row--subtable-expanded"), b(g).trigger("m-datatable--on-collapse-subtable", [t])) : (b(i).addClass(h.getOption("layout.icons.rowDetail.expand")), b(t).addClass("m-datatable__row--subtable-expanded"), b(g).trigger("m-datatable--on-expand-subtable", [t])), 0 === b(n).find(".m-datatable").length && (b.map(g.dataSet, function (t, e) { return o === t[f.columns[0].field] && (a.data = t, !0) }), a.detailCell = n, a.parentRow = t, a.subTable = n, l(a), b(n).children(".m-datatable").on("m-datatable--on-init", function (t) { b(e).removeClass("m-datatable__row-loading") }), "local" === h.getOption("data.type") && b(e).removeClass("m-datatable__row-loading")) }, i = f.columns, b(g.tableBody).find(".m-datatable__row").each(function (t, e) { b(e).find(".m-datatable__cell").each(function (t, a) { var e = b.grep(i, function (t, e) { return b(a).data("field") === t.field })[0]; if (void 0 !== e) { var n = b(a).text(); if (void 0 !== e.subtable && e.subtable) { if (0 < b(a).find(".m-datatable__toggle-subtable").length) return; b(a).html(b("<a/>").addClass("m-datatable__toggle-subtable").attr("href", "#").attr("data-value", n).attr("title", h.getOption("detail.title")).on("click", o).append(b("<i/>").css("width", b(a).data("width")).addClass(h.getOption("layout.icons.rowDetail.collapse")))) } } }) })) }, dataMapCallback: function (t) { var e = t; return "function" == typeof h.getOption("data.source.read.map") ? h.getOption("data.source.read.map")(t) : (void 0 !== t.data && (e = t.data), e) }, isSpinning: !1, spinnerCallback: function (t) { var e; t ? h.isSpinning || (!0 === (e = h.getOption("layout.spinner")).message && (e.message = h.getOption("translate.records.processing")), h.isSpinning = !0, void 0 !== mApp && mApp.block(g, e)) : (h.isSpinning = !1, void 0 !== mApp && mApp.unblock(g)) }, sortCallback: function (t, i, e) { var l = e.type || "string", r = e.format || "", s = e.field; if ("date" === l && "undefined" == typeof moment) throw new Error("Moment.js is required."); return b(t).sort(function (t, e) { var a = t[s], n = e[s]; switch (l) { case "date": var o = moment(a, r).diff(moment(n, r)); return "asc" === i ? 0 < o ? 1 : o < 0 ? -1 : 0 : o < 0 ? 1 : 0 < o ? -1 : 0; case "number": return isNaN(parseFloat(a)) && null != a && (a = Number(a.replace(/[^0-9\.-]+/g, ""))), isNaN(parseFloat(n)) && null != n && (n = Number(n.replace(/[^0-9\.-]+/g, ""))), a = parseFloat(a), n = parseFloat(n), "asc" === i ? n < a ? 1 : a < n ? -1 : 0 : a < n ? 1 : n < a ? -1 : 0; case "string": default: return "asc" === i ? n < a ? 1 : a < n ? -1 : 0 : a < n ? 1 : n < a ? -1 : 0 } }) }, log: function (t, e) { void 0 === e && (e = ""), g.debug && console.log(t, e) }, autoHide: function () { b(g.table).find(".m-datatable__cell").show(), b(g.tableBody).each(function () { for (; b(this)[0].offsetWidth < b(this)[0].scrollWidth;)b(g.table).find(".m-datatable__row").each(function (t) { var e = b(this).find(".m-datatable__cell").not(":hidden").last(); b(e).hide() }), h.adjustCellsWidth.call() }); function t(t) { t.preventDefault(); var e, a, n, o = b(this).closest(".m-datatable__row"), i = b(o).next(); b(i).hasClass("m-datatable__row-detail") ? (b(this).find("i").removeClass(h.getOption("layout.icons.rowDetail.expand")).addClass(h.getOption("layout.icons.rowDetail.collapse")), b(i).remove()) : (b(this).find("i").removeClass(h.getOption("layout.icons.rowDetail.collapse")).addClass(h.getOption("layout.icons.rowDetail.expand")), e = b(o).find(".m-datatable__cell:hidden").clone().show(), i = b("<tr/>").addClass("m-datatable__row-detail").insertAfter(o), a = b("<td/>").addClass("m-datatable__detail").attr("colspan", h.getTotalColumns()).appendTo(i), n = b("<table/>"), b(e).each(function () { var a = b(this).data("field"), t = b.grep(f.columns, function (t, e) { return a === t.field })[0]; b(n).append(b('<tr class="m-datatable__row"></tr>').append(b('<td class="m-datatable__cell"></td>').append(b("<span/>").css("width", h.offset).append(t.title))).append(this)) }), b(a).append(n)) } b(g.tableBody).find(".m-datatable__row").each(function () { b(this).prepend(b("<td/>").addClass("m-datatable__cell m-datatable__toggle--detail").append(b("<a/>").addClass("m-datatable__toggle-detail").attr("href", "#").on("click", t).append(b("<i/>").css("width", "21px").addClass(h.getOption("layout.icons.rowDetail.collapse"))))), 0 === b(g.tableHead).find(".m-datatable__toggle-detail").length ? (b(g.tableHead).find(".m-datatable__row").first().prepend('<th class="m-datatable__cell m-datatable__toggle-detail"><span style="width: 21px"></span></th>'), b(g.tableFoot).find(".m-datatable__row").first().prepend('<th class="m-datatable__cell m-datatable__toggle-detail"><span style="width: 21px"></span></th>')) : b(g.tableHead).find(".m-datatable__toggle-detail").find("span").css("width", "21px") }) }, hoverColumn: function () { b(g.tableBody).on("mouseenter", ".m-datatable__cell", function () { var t = b(h.cell(this).nodes()).index(); b(h.cells().nodes()).removeClass("m-datatable__cell--hover"), b(h.column(t).nodes()).addClass("m-datatable__cell--hover") }) }, setAutoColumns: function () { h.getOption("data.autoColumns") && (b.each(g.dataSet[0], function (a, t) { 0 === b.grep(f.columns, function (t, e) { return a === t.field }).length && f.columns.push({ field: a, title: a }) }), b(g.tableHead).find(".m-datatable__row").remove(), h.setHeadTitle(), h.getOption("layout.footer") && (b(g.tableFoot).find(".m-datatable__row").remove(), h.setHeadTitle(g.tableFoot))) }, isLocked: function () { return b(g.wrap).hasClass("m-datatable--lock") || !1 }, replaceTableContent: function (t, e) { void 0 === e && (e = g.tableBody), b(e).hasClass("mCustomScrollbar") ? b(e).find(".mCSB_container").html(t) : b(e).html(t) }, getExtraSpace: function (t) { return parseInt(b(t).css("paddingRight")) + parseInt(b(t).css("paddingLeft")) + (parseInt(b(t).css("marginRight")) + parseInt(b(t).css("marginLeft"))) + Math.ceil(b(t).css("border-right-width").replace("px", "")) }, dataPlaceholder: function (t, e) { var a = t; return b.each(e, function (t, e) { a = a.replace("{{" + t + "}}", e) }), a }, getTableId: function (t) { void 0 === t && (t = ""); var e = b(g).attr("id"); return void 0 === e && (e = b(g).attr("class").split(" ")[0]), e + t }, getTablePrefix: function (t) { return void 0 !== t && (t = "-" + t), h.getTableId() + "-" + h.getDepth() + t }, getDepth: function () { for (var t = 0, e = g.table; e = b(e).parents(".m-datatable__table"), t++ , 0 < b(e).length;); return t }, stateKeep: function (t, e) { t = h.getTablePrefix(t), !1 !== h.getOption("data.saveState") && (h.getOption("data.saveState.webstorage") && localStorage && localStorage.setItem(t, JSON.stringify(e)), h.getOption("data.saveState.cookie") && Cookies.set(t, JSON.stringify(e))) }, stateGet: function (t, e) { if (t = h.getTablePrefix(t), !1 !== h.getOption("data.saveState")) { var a; return null != (a = h.getOption("data.saveState.webstorage") && localStorage ? localStorage.getItem(t) : Cookies.get(t)) ? JSON.parse(a) : void 0 } }, stateUpdate: function (t, e) { var a = h.stateGet(t); null == a && (a = {}), h.stateKeep(t, b.extend({}, a, e)) }, stateRemove: function (t) { t = h.getTablePrefix(t), localStorage && localStorage.removeItem(t), Cookies.remove(t) }, getTotalColumns: function (t) { return void 0 === t && (t = g.tableBody), b(t).find(".m-datatable__row").first().find(".m-datatable__cell").length }, getOneRow: function (t, e, a) { void 0 === a && (a = !0); var n = b(t).find(".m-datatable__row:not(.m-datatable__row-detail):nth-child(" + e + ")"); return a && (n = n.find(".m-datatable__cell")), n }, hasOverflowY: function (t) { var e = b(t).find(".m-datatable__row"), a = 0; return 0 < e.length && (b(e).each(function (t, e) { a += Math.floor(b(e).innerHeight()) }), a > b(t).innerHeight()) }, sortColumn: function (t, o, i) { void 0 === o && (o = "asc"), void 0 === i && (i = !1); var l = b(t).index(), e = b(g.tableBody).find(".m-datatable__row"), a = b(t).closest(".m-datatable__lock").index(); -1 !== a && (e = b(g.tableBody).find(".m-datatable__lock:nth-child(" + (a + 1) + ")").find(".m-datatable__row")); var n = b(e).parent(); b(e).sort(function (t, e) { var a = b(t).find("td:nth-child(" + l + ")").text(), n = b(e).find("td:nth-child(" + l + ")").text(); return i && (a = parseInt(a), n = parseInt(n)), "asc" === o ? n < a ? 1 : a < n ? -1 : 0 : a < n ? 1 : n < a ? -1 : 0 }).appendTo(n) }, sorting: function () { var i = { init: function () { f.sortable && (b(g.tableHead).find(".m-datatable__cell:not(.m-datatable__cell--check)").addClass("m-datatable__cell--sort").off("click").on("click", i.sortClick), i.setIcon()) }, setIcon: function () { var t, e, a, n, o = h.getDataSourceParam("sort"); b.isEmptyObject(o) || (t = b(g.tableHead).find('.m-datatable__cell[data-field="' + o.field + '"]').attr("data-sort", o.sort), e = b(t).find("span"), a = b(e).find("i"), n = h.getOption("layout.icons.sort"), 0 < b(a).length ? b(a).removeAttr("class").addClass(n[o.sort]) : b(e).append(b("<i/>").addClass(n[o.sort]))) }, sortClick: function (t) { var e, a = h.getDataSourceParam("sort"), n = b(this).data("field"), o = h.getColumnByField(n); void 0 !== o.sortable && !1 === o.sortable || (b(g.tableHead).find(".m-datatable__cell > span > i").remove(), !f.sortable) || (h.spinnerCallback(!0), e = "desc", h.getObject("field", a) === n && (e = h.getObject("sort", a)), a = { field: n, sort: e = void 0 === e || "desc" === e ? "asc" : "desc" }, h.setDataSourceParam("sort", a), i.setIcon(), setTimeout(function () { h.dataRender("sort"), b(g).trigger("m-datatable--on-sort", a) }, 300)) } }; i.init() }, localDataUpdate: function () { var a = h.getDataSourceParam(); void 0 === g.originalDataSet && (g.originalDataSet = g.dataSet); var n, t = h.getObject("sort.field", a), e = h.getObject("sort.sort", a), o = h.getColumnByField(t); return void 0 !== o && !0 !== h.getOption("data.serverSorting") ? "function" == typeof o.sortCallback ? g.dataSet = o.sortCallback(g.originalDataSet, e, o) : g.dataSet = h.sortCallback(g.originalDataSet, e, o) : g.dataSet = g.originalDataSet, "object" != typeof a.query || h.getOption("data.serverFiltering") || (a.query = a.query || {}, void 0 !== (n = b(h.getOption("search.input")).val()) && "" !== n && (n = n.toLowerCase(), g.dataSet = b.grep(g.dataSet, function (t) { for (var e in t) if (t.hasOwnProperty(e) && "string" == typeof t[e] && -1 < t[e].toLowerCase().indexOf(n)) return !0; return !1 }), delete a.query[h.getGeneralSearchKey()]), b.each(a.query, function (t, e) { "" === e && delete a.query[t] }), g.dataSet = h.filterArray(g.dataSet, a.query), g.dataSet = g.dataSet.filter(function () { return !0 })), g.dataSet }, filterArray: function (t, o, i) { if ("object" != typeof t) return []; if (void 0 === i && (i = "AND"), "object" != typeof o) return t; if (i = i.toUpperCase(), -1 === b.inArray(i, ["AND", "OR", "NOT"])) return []; var l = Object.keys(o).length, r = []; return b.each(t, function (t, e) { var a = e, n = 0; b.each(o, function (t, e) { e = e instanceof Array ? e : [e], a.hasOwnProperty(t) && (a[t] = a[t].toString(), -1 !== b.inArray(a[t], e) && n++) }), ("AND" == i && n == l || "OR" == i && 0 < n || "NOT" == i && 0 == n) && (r[t] = e) }), r }, resetScroll: function () { void 0 === f.detail && 1 === h.getDepth() && (b(g.table).find(".m-datatable__row").css("left", 0), b(g.table).find(".m-datatable__lock").css("top", 0), b(g.tableBody).scrollTop(0)) }, getColumnByField: function (a) { var n; if (void 0 !== a) return b.each(f.columns, function (t, e) { if (a === e.field) return n = e, !1 }), n }, getDefaultSortColumn: function () { var a; return b.each(f.columns, function (t, e) { if (void 0 !== e.sortable && -1 !== b.inArray(e.sortable, ["asc", "desc"])) return !(a = { sort: e.sortable, field: e.field }) }), a }, getHiddenDimensions: function (t, e) { var n = { position: "absolute", visibility: "hidden", display: "block" }, a = { width: 0, height: 0, innerWidth: 0, innerHeight: 0, outerWidth: 0, outerHeight: 0 }, o = b(t).parents().addBack().not(":visible"); e = "boolean" == typeof e && e; var i = []; return o.each(function () { var t = {}; for (var e in n) t[e] = this.style[e], this.style[e] = n[e]; i.push(t) }), a.width = b(t).width(), a.outerWidth = b(t).outerWidth(e), a.innerWidth = b(t).innerWidth(), a.height = b(t).height(), a.innerHeight = b(t).innerHeight(), a.outerHeight = b(t).outerHeight(e), o.each(function (t) { var e = i[t]; for (var a in n) this.style[a] = e[a] }), a }, getGeneralSearchKey: function () { var t = b(h.getOption("search.input")); return b(t).prop("name") || b(t).prop("id") }, getObject: function (t, e) { return t.split(".").reduce(function (t, e) { return null !== t && void 0 !== t[e] ? t[e] : null }, e) }, extendObj: function (t, e, n) { var o = e.split("."), i = 0; return function t(e) { var a = o[i++]; (void 0 === e[a] || null === e[a] || "object" != typeof e[a] && "function" != typeof e[a]) && (e[a] = {}), i === o.length ? e[a] = n : t(e[a]) }(t), t }, timer: 0, redraw: function () { return h.adjustCellsWidth.call(), h.isLocked() && (h.scrollbar(), h.resetScroll(), h.adjustCellsHeight.call()), h.adjustLockContainer.call(), h.initHeight.call(), g }, load: function () { return h.reload(), g }, reload: function () { return t = h.getOption("search.delay"), clearTimeout(h.timer), h.timer = setTimeout(function () { f.data.serverFiltering || h.localDataUpdate(), h.dataRender(), b(g).trigger("m-datatable--on-reloaded") }, t), g; var t }, getRecord: function (n) { return void 0 === g.tableBody && (g.tableBody = b(g.table).children("tbody")), b(g.tableBody).find(".m-datatable__cell:first-child").each(function (t, e) { if (n == b(e).text()) { var a = b(e).closest(".m-datatable__row").index() + 1; return g.API.record = g.API.value = h.getOneRow(g.tableBody, a), g } }), g }, getColumn: function (t) { return h.setSelectedRecords(), g.API.value = b(g.API.record).find('[data-field="' + t + '"]'), g }, destroy: function () { b(g).parent().find(".m-datatable__pager").remove(); var t = b(g.initialDatatable).addClass("m-datatable--destroyed").show(); return b(g).replaceWith(t), b(g = t).trigger("m-datatable--on-destroy"), h.isInit = !1, null }, sort: function (t, e) { e = void 0 === e ? "asc" : e, h.spinnerCallback(!0); var a = { field: t, sort: e }; return h.setDataSourceParam("sort", a), setTimeout(function () { h.dataRender("sort"), b(g).trigger("m-datatable--on-sort", a), b(g.tableHead).find(".m-datatable__cell > span > i").remove() }, 300), g }, getValue: function () { return b(g.API.value).text() }, setActive: function (t) { "string" == typeof t && (t = b(g.tableBody).find('.m-checkbox--single > [type="checkbox"][value="' + t + '"]')), b(t).prop("checked", !0); var e = b(t).closest(".m-datatable__row").addClass("m-datatable__row--active"), a = b(e).index() + 1; b(e).closest(".m-datatable__lock").parent().find(".m-datatable__row:nth-child(" + a + ")").addClass("m-datatable__row--active"); var n = []; b(e).each(function (t, e) { var a = b(e).find('.m-checkbox--single:not(.m-checkbox--all) > [type="checkbox"]').val(); void 0 !== a && n.push(a) }), b(g).trigger("m-datatable--on-check", [n]) }, setInactive: function (t) { "string" == typeof t && (t = b(g.tableBody).find('.m-checkbox--single > [type="checkbox"][value="' + t + '"]')), b(t).prop("checked", !1); var e = b(t).closest(".m-datatable__row").removeClass("m-datatable__row--active"), a = b(e).index() + 1; b(e).closest(".m-datatable__lock").parent().find(".m-datatable__row:nth-child(" + a + ")").removeClass("m-datatable__row--active"); var n = []; b(e).each(function (t, e) { var a = b(e).find('.m-checkbox--single:not(.m-checkbox--all) > [type="checkbox"]').val(); void 0 !== a && n.push(a) }), b(g).trigger("m-datatable--on-uncheck", [n]) }, setActiveAll: function (t) { var e = b(g.table).find(".m-datatable__body .m-datatable__row").find('.m-datatable__cell .m-checkbox [type="checkbox"]'); t ? h.setActive(e) : h.setInactive(e) }, setSelectedRecords: function () { return g.API.record = b(g.tableBody).find(".m-datatable__row--active"), g }, getSelectedRecords: function () { return h.setSelectedRecords(), g.API.record = g.rows(".m-datatable__row--active").nodes(), g.API.record }, getOption: function (t) { return h.getObject(t, f) }, setOption: function (t, e) { f = h.extendObj(f, t, e) }, search: function (n, e) { var t, a; void 0 !== e && (e = b.makeArray(e)), t = function () { var t, a = h.getDataSourceQuery(); void 0 === e && void 0 !== n && (t = h.getGeneralSearchKey(), a[t] = n), "object" == typeof e && (b.each(e, function (t, e) { a[e] = n }), b.each(a, function (t, e) { "" !== e && !b.isEmptyObject(e) || delete a[t] })), h.setDataSourceQuery(a), f.data.serverFiltering || h.localDataUpdate(), h.dataRender("search") }, a = h.getOption("search.delay"), clearTimeout(h.timer), h.timer = setTimeout(t, a) }, setDataSourceParam: function (t, e) { g.API.params = b.extend({}, { pagination: { page: 1, perpage: h.getOption("data.pageSize") }, sort: h.getDefaultSortColumn(), query: {} }, g.API.params, h.stateGet(h.stateId)), g.API.params = h.extendObj(g.API.params, t, e), h.stateKeep(h.stateId, g.API.params) }, getDataSourceParam: function (t) { return g.API.params = b.extend({}, { pagination: { page: 1, perpage: h.getOption("data.pageSize") }, sort: h.getDefaultSortColumn(), query: {} }, g.API.params, h.stateGet(h.stateId)), "string" == typeof t ? h.getObject(t, g.API.params) : g.API.params }, getDataSourceQuery: function () { return h.getDataSourceParam("query") || {} }, setDataSourceQuery: function (t) { h.setDataSourceParam("query", t) }, getCurrentPage: function () { return b(g.table).siblings(".m-datatable__pager").last().find(".m-datatable__pager-nav").find(".m-datatable__pager-link.m-datatable__pager-link--active").data("page") || 1 }, getPageSize: function () { return b(g.table).siblings(".m-datatable__pager").last().find("select.m-datatable__pager-size").val() || 10 }, getTotalRows: function () { return g.API.params.pagination.total }, getDataSet: function () { return g.originalDataSet }, hideColumn: function (a) { b.map(f.columns, function (t) { return a === t.field && (t.responsive = { hidden: "xl" }), t }); var t = b.grep(b(g.table).find(".m-datatable__cell"), function (t, e) { return a === b(t).data("field") }); b(t).hide() }, showColumn: function (a) { b.map(f.columns, function (t) { return a === t.field && delete t.responsive, t }); var t = b.grep(b(g.table).find(".m-datatable__cell"), function (t, e) { return a === b(t).data("field") }); b(t).show() }, destroyScroller: function (t) { void 0 === t && (t = g.tableBody), b(t).each(function () { if (b(this).hasClass("mCustomScrollbar")) try { mApp.destroyScroller(b(this)) } catch (t) { console.log(t) } }) }, nodeTr: [], nodeTd: [], nodeCols: [], recentNode: [], table: function () { return g.table }, row: function (t) { return h.rows(t), h.nodeTr = h.recentNode = b(h.nodeTr).first(), g }, rows: function (t) { return h.nodeTr = h.recentNode = b(g.tableBody).find(t).filter(".m-datatable__row"), g }, column: function (t) { return h.nodeCols = h.recentNode = b(g.tableBody).find(".m-datatable__cell:nth-child(" + (t + 1) + ")"), g }, columns: function (t) { var e = g.table; h.nodeTr === h.recentNode && (e = h.nodeTr); var a = b(e).find('.m-datatable__cell[data-field="' + t + '"]'); return 0 < a.length ? h.nodeCols = h.recentNode = a : h.nodeCols = h.recentNode = b(e).find(t).filter(".m-datatable__cell"), g }, cell: function (t) { return h.cells(t), h.nodeTd = h.recentNode = b(h.nodeTd).first(), g }, cells: function (t) { var e = b(g.tableBody).find(".m-datatable__cell"); return void 0 !== t && (e = b(e).filter(t)), h.nodeTd = h.recentNode = e, g }, remove: function () { return b(h.nodeTr.length) && h.nodeTr === h.recentNode && b(h.nodeTr).remove(), h.layoutUpdate(), g }, visible: function (t) { var e, a, n; b(h.recentNode.length) && (e = h.lockEnabledColumns(), h.recentNode === h.nodeCols && (a = h.recentNode.index(), h.isLocked() && ((n = b(h.recentNode).closest(".m-datatable__lock--scroll").length) ? a += e.left.length + 1 : b(h.recentNode).closest(".m-datatable__lock--right").length && (a += e.left.length + n + 1))), t ? (h.recentNode === h.nodeCols && delete f.columns[a].responsive, b(h.recentNode).show()) : (h.recentNode === h.nodeCols && h.setOption("columns." + a + ".responsive", { hidden: "xl" }), b(h.recentNode).hide()), h.redraw()) }, nodes: function () { return h.recentNode }, dataset: function () { return g } }; return b.each(h, function (t, e) { g[t] = e }), void 0 !== f ? "string" == typeof f ? (t = f, void 0 !== (g = b(this).data("mDatatable")) && (f = g.options, h[t].apply(this, Array.prototype.slice.call(arguments, 1)))) : g.data("mDatatable") || b(this).hasClass("m-datatable--loaded") || (g.dataSet = null, g.textAlign = { left: "m-datatable__cell--left", center: "m-datatable__cell--center", right: "m-datatable__cell--right" }, f = b.extend(!0, {}, b.fn.mDatatable.defaults, f), g.options = f, h.init.apply(this, [f]), b(g.wrap).data("mDatatable", g)) : (void 0 === (g = b(this).data("mDatatable")) && b.error("mDatatable not initialized"), f = g.options), g } console.log("No mDatatable element exist.") }, b.fn.mDatatable.defaults = { data: { type: "local", source: null, pageSize: 10, saveState: { cookie: !1, webstorage: !0 }, serverPaging: !1, serverFiltering: !1, serverSorting: !1, autoColumns: !1, attr: { rowProps: [] } }, layout: { theme: "default", class: "m-datatable--brand", scroll: !1, height: null, minHeight: 300, footer: !1, header: !0, smoothScroll: { scrollbarShown: !0 }, spinner: { overlayColor: "#000000", opacity: 0, type: "loader", state: "brand", message: !0 }, icons: { sort: { asc: "la la-arrow-up", desc: "la la-arrow-down" }, pagination: { next: "la la-angle-right", prev: "la la-angle-left", first: "la la-angle-double-left", last: "la la-angle-double-right", more: "la la-ellipsis-h" }, rowDetail: { expand: "fa fa-caret-down", collapse: "fa fa-caret-right" } } }, sortable: !0, resizable: !1, filterable: !1, pagination: !0, editable: !1, columns: [], search: { onEnter: !1, input: null, delay: 400 }, rows: { callback: function () { }, beforeTemplate: function () { }, afterTemplate: function () { }, autoHide: !1 }, toolbar: { layout: ["pagination", "info"], placement: ["bottom"], items: { pagination: { type: "default", pages: { desktop: { layout: "default", pagesNumber: 6 }, tablet: { layout: "default", pagesNumber: 3 }, mobile: { layout: "compact" } }, navigation: { prev: !0, next: !0, first: !0, last: !0 }, pageSizeSelect: [] }, info: !0 } }, translate: { records: { processing: "Please wait...", noRecords: "No records found" }, toolbar: { pagination: { items: { default: { first: "First", prev: "Previous", next: "Next", last: "Last", more: "More pages", input: "Page number", select: "Select page size" }, info: "Displaying {{start}} - {{end}} of {{total}} records" } } } }, extensions: {} } }(jQuery); var mDropdown = function (t, e) { var o = this, n = mUtil.get(t), i = mUtil.get("body"); if (n) { var a = { toggle: "click", hoverTimeout: 300, skin: "light", height: "auto", maxHeight: !1, minHeight: !1, persistent: !1, mobileOverlay: !0 }, l = { construct: function (t) { return mUtil.data(n).has("dropdown") ? o = mUtil.data(n).get("dropdown") : (l.init(t), l.setup(), mUtil.data(n).set("dropdown", o)), o }, init: function (t) { o.options = mUtil.deepExtend({}, a, t), o.events = [], o.eventHandlers = {}, o.open = !1, o.layout = {}, o.layout.close = mUtil.find(n, ".m-dropdown__close"), o.layout.toggle = mUtil.find(n, ".m-dropdown__toggle"), o.layout.arrow = mUtil.find(n, ".m-dropdown__arrow"), o.layout.wrapper = mUtil.find(n, ".m-dropdown__wrapper"), o.layout.defaultDropPos = mUtil.hasClass(n, "m-dropdown--up") ? "up" : "down", o.layout.currentDropPos = o.layout.defaultDropPos, "hover" == mUtil.attr(n, "m-dropdown-toggle") && (o.options.toggle = "hover") }, setup: function () { o.options.placement && mUtil.addClass(n, "m-dropdown--" + o.options.placement), o.options.align && mUtil.addClass(n, "m-dropdown--align-" + o.options.align), o.options.width && mUtil.css(o.layout.wrapper, "width", o.options.width + "px"), "1" == mUtil.attr(n, "m-dropdown-persistent") && (o.options.persistent = !0), "hover" == o.options.toggle && mUtil.addEvent(n, "mouseout", l.hide), l.setZindex() }, toggle: function () { return o.open ? l.hide() : l.show() }, setContent: function (t) { return t = mUtil.find(n, ".m-dropdown__content").innerHTML = t, o }, show: function () { return "hover" == o.options.toggle && mUtil.hasAttr(n, "hover") ? l.clearHovered() : o.open || (o.layout.arrow && l.adjustArrowPos(), l.eventTrigger("beforeShow"), l.hideOpened(), mUtil.addClass(n, "m-dropdown--open"), mUtil.isMobileDevice() && o.options.mobileOverlay && (t = mUtil.css(n, "z-index") - 1, e = mUtil.insertAfter(document.createElement("DIV"), n), mUtil.addClass(e, "m-dropdown__dropoff"), mUtil.css(e, "z-index", t), mUtil.data(e).set("dropdown", n), mUtil.data(n).set("dropoff", e), mUtil.addEvent(e, "click", function (t) { l.hide(), mUtil.remove(this), t.preventDefault() })), n.focus(), n.setAttribute("aria-expanded", "true"), o.open = !0, l.eventTrigger("afterShow")), o; var t, e }, clearHovered: function () { var t = mUtil.attr(n, "timeout"); mUtil.removeAttr(n, "hover"), mUtil.removeAttr(n, "timeout"), clearTimeout(t) }, hideHovered: function (t) { if (!0 === t) { if (!1 === l.eventTrigger("beforeHide")) return; l.clearHovered(), mUtil.removeClass(n, "m-dropdown--open"), o.open = !1, l.eventTrigger("afterHide") } else { if (!0 === mUtil.hasAttr(n, "hover")) return; if (!1 === l.eventTrigger("beforeHide")) return; var e = setTimeout(function () { mUtil.attr(n, "hover") && (l.clearHovered(), mUtil.removeClass(n, "m-dropdown--open"), o.open = !1, l.eventTrigger("afterHide")) }, o.options.hoverTimeout); mUtil.attr(n, "hover", "1"), mUtil.attr(n, "timeout", e) } }, hideClicked: function () { !1 !== l.eventTrigger("beforeHide") && (mUtil.removeClass(n, "m-dropdown--open"), mUtil.data(n).remove("dropoff"), o.open = !1, l.eventTrigger("afterHide")) }, hide: function (t) { return !1 === o.open || ("hover" == o.options.toggle ? l.hideHovered(t) : l.hideClicked(), "down" == o.layout.defaultDropPos && "up" == o.layout.currentDropPos && (mUtil.removeClass(n, "m-dropdown--up"), o.layout.arrow.prependTo(o.layout.wrapper), o.layout.currentDropPos = "down")), o }, hideOpened: function () { for (var t = mUtil.findAll(i, ".m-dropdown.m-dropdown--open"), e = 0, a = t.length; e < a; e++) { var n = t[e]; mUtil.data(n).get("dropdown").hide(!0) } }, adjustArrowPos: function () { var t = mUtil.outerWidth(n), e = mUtil.hasClass(o.layout.arrow, "m-dropdown__arrow--right") ? "right" : "left", a = 0; o.layout.arrow && (mUtil.isInResponsiveRange("mobile") && mUtil.hasClass(n, "m-dropdown--mobile-full-width") ? (a = mUtil.offset(n).left + t / 2 - Math.abs(parseInt(mUtil.css(o.layout.arrow, "width")) / 2) - parseInt(mUtil.css(o.layout.wrapper, "left")), mUtil.css(o.layout.arrow, "right", "auto"), mUtil.css(o.layout.arrow, "left", a + "px"), mUtil.css(o.layout.arrow, "margin-left", "auto"), mUtil.css(o.layout.arrow, "margin-right", "auto")) : mUtil.hasClass(o.layout.arrow, "m-dropdown__arrow--adjust") && (a = t / 2 - Math.abs(parseInt(mUtil.css(o.layout.arrow, "width")) / 2), mUtil.hasClass(n, "m-dropdown--align-push") && (a += 20), "right" == e ? (mUtil.css(o.layout.arrow, "left", "auto"), mUtil.css(o.layout.arrow, "right", a + "px")) : (mUtil.css(o.layout.arrow, "right", "auto"), mUtil.css(o.layout.arrow, "left", a + "px")))) }, setZindex: function () { mUtil.css(o.layout.wrapper, "z-index") < mUtil.getHighestZindex(n) && mUtil.css(o.layout.wrapper, "z-index", zindex) }, isPersistent: function () { return o.options.persistent }, isShown: function () { return o.open }, eventTrigger: function (t, e) { for (var a = 0; a < o.events.length; a++) { var n = o.events[a]; n.name == t && (1 == n.one ? 0 == n.fired && (o.events[a].fired = !0, n.handler.call(this, o, e)) : n.handler.call(this, o, e)) } }, addEvent: function (t, e, a) { o.events.push({ name: t, handler: e, one: a, fired: !1 }) } }; return o.setDefaults = function (t) { a = t }, o.show = function () { return l.show() }, o.hide = function () { return l.hide() }, o.toggle = function () { return l.toggle() }, o.isPersistent = function () { return l.isPersistent() }, o.isShown = function () { return l.isShown() }, o.setContent = function (t) { return l.setContent(t) }, o.on = function (t, e) { return l.addEvent(t, e) }, o.one = function (t, e) { return l.addEvent(t, e, !0) }, l.construct.apply(o, [e]), o } }; mUtil.on(document, '[m-dropdown-toggle="click"] .m-dropdown__toggle', "click", function (t) { var e = this.closest(".m-dropdown"); e && ((mUtil.data(e).has("dropdown") ? mUtil.data(e).get("dropdown") : new mDropdown(e)).toggle(), t.preventDefault()) }), mUtil.on(document, '[m-dropdown-toggle="hover"] .m-dropdown__toggle', "click", function (t) { var e; !mUtil.isMobileDevice() || (e = this.closest(".m-dropdown")) && ((mUtil.data(e).has("dropdown") ? mUtil.data(e).get("dropdown") : new mDropdown(e)).toggle(), t.preventDefault()) }), mUtil.on(document, '[m-dropdown-toggle="hover"]', "mouseover", function (t) { mUtil.isDesktopDevice() && this && ((mUtil.data(this).has("dropdown") ? mUtil.data(this).get("dropdown") : new mDropdown(this)).show(), t.preventDefault()) }), document.addEventListener("click", function (t) { var e, a = mUtil.get("body"), n = t.target; if (e = a.querySelectorAll(".m-dropdown.m-dropdown--open")) for (var o = 0, i = e.length; o < i; o++) { var l = e[o]; if (!1 === mUtil.data(l).has("dropdown")) return; var r = mUtil.data(l).get("dropdown"), s = mUtil.find(l, ".m-dropdown__toggle"); mUtil.hasClass(l, "m-dropdown--disable-close") && (t.preventDefault(), t.stopPropagation()), s && n !== s && !1 === s.contains(n) && !1 === n.contains(s) ? !0 === r.isPersistent() && !1 !== l.contains(n) || r.hide() : !1 === l.contains(n) && r.hide() } }); var mHeader = function (t, e) { var i = this, a = mUtil.get(t), l = mUtil.get("body"); if (void 0 !== a) { var n = { classic: !1, offset: { mobile: 150, desktop: 200 }, minimize: { mobile: !1, desktop: !1 } }, o = { construct: function (t) { return mUtil.data(a).has("header") ? i = mUtil.data(a).get("header") : (o.init(t), o.build(), mUtil.data(a).set("header", i)), i }, init: function (t) { i.events = [], i.options = mUtil.deepExtend({}, n, t) }, build: function () { var o = 0; !1 === i.options.minimize.mobile && !1 === i.options.minimize.desktop || window.addEventListener("scroll", function () { var t, e, a, n = 0; mUtil.isInResponsiveRange("desktop") ? (n = i.options.offset.desktop, t = i.options.minimize.desktop.on, e = i.options.minimize.desktop.off) : mUtil.isInResponsiveRange("tablet-and-mobile") && (n = i.options.offset.mobile, t = i.options.minimize.mobile.on, e = i.options.minimize.mobile.off), a = window.pageYOffset, mUtil.isInResponsiveRange("tablet-and-mobile") && i.options.classic && i.options.classic.mobile || mUtil.isInResponsiveRange("desktop") && i.options.classic && i.options.classic.desktop ? n < a ? (mUtil.addClass(l, t), mUtil.removeClass(l, e)) : (mUtil.addClass(l, e), mUtil.removeClass(l, t)) : (n < a && o < a ? (mUtil.addClass(l, t), mUtil.removeClass(l, e)) : (mUtil.addClass(l, e), mUtil.removeClass(l, t)), o = a) }) }, eventTrigger: function (t, e) { for (var a = 0; a < i.events.length; a++) { var n = i.events[a]; n.name == t && (1 == n.one ? 0 == n.fired && (i.events[a].fired = !0, n.handler.call(this, i, e)) : n.handler.call(this, i, e)) } }, addEvent: function (t, e, a) { i.events.push({ name: t, handler: e, one: a, fired: !1 }) } }; return i.setDefaults = function (t) { n = t }, i.on = function (t, e) { return o.addEvent(t, e) }, o.construct.apply(i, [e]), i } }, mMenu = function (t, e) { var p = this, a = !1, d = mUtil.get(t), i = mUtil.get("body"); if (d) { var n = { autoscroll: { speed: 1200 }, accordion: { slideSpeed: 200, autoScroll: !0, autoScrollSpeed: 1200, expandAll: !0 }, dropdown: { timeout: 500 } }, f = { construct: function (t) { return mUtil.data(d).has("menu") ? p = mUtil.data(d).get("menu") : (f.init(t), f.reset(), f.build(), mUtil.data(d).set("menu", p)), p }, init: function (t) { p.events = [], p.eventHandlers = {}, p.options = mUtil.deepExtend({}, n, t), p.pauseDropdownHoverTime = 0, p.uid = mUtil.getUniqueID() }, reload: function () { f.reset(), f.build() }, build: function () { p.eventHandlers.event_1 = mUtil.on(d, ".m-menu__toggle", "click", f.handleSubmenuAccordion), "dropdown" !== f.getSubmenuMode() && !f.isConditionalSubmenuDropdown() || (p.eventHandlers.event_2 = mUtil.on(d, '[m-menu-submenu-toggle="hover"]', "mouseover", f.handleSubmenuDrodownHoverEnter), p.eventHandlers.event_3 = mUtil.on(d, '[m-menu-submenu-toggle="hover"]', "mouseout", f.handleSubmenuDrodownHoverExit), p.eventHandlers.event_4 = mUtil.on(d, '[m-menu-submenu-toggle="click"] > .m-menu__toggle, [m-menu-submenu-toggle="click"] > .m-menu__link .m-menu__toggle', "click", f.handleSubmenuDropdownClick), p.eventHandlers.event_5 = mUtil.on(d, '[m-menu-submenu-toggle="tab"] > .m-menu__toggle, [m-menu-submenu-toggle="tab"] > .m-menu__link .m-menu__toggle', "click", f.handleSubmenuDropdownTabClick)), p.eventHandlers.event_6 = mUtil.on(d, ".m-menu__item:not(.m-menu__item--submenu) > .m-menu__link:not(.m-menu__toggle):not(.m-menu__link--toggle-skip)", "click", f.handleLinkClick) }, reset: function () { mUtil.off(d, "click", p.eventHandlers.event_1), mUtil.off(d, "mouseover", p.eventHandlers.event_2), mUtil.off(d, "mouseout", p.eventHandlers.event_3), mUtil.off(d, "click", p.eventHandlers.event_4), mUtil.off(d, "click", p.eventHandlers.event_5), mUtil.off(d, "click", p.eventHandlers.event_6) }, getSubmenuMode: function () { return mUtil.isInResponsiveRange("desktop") ? mUtil.isset(p.options.submenu, "desktop.state.body") ? mUtil.hasClass(i, p.options.submenu.desktop.state.body) ? p.options.submenu.desktop.state.mode : p.options.submenu.desktop.default : mUtil.isset(p.options.submenu, "desktop") ? p.options.submenu.desktop : void 0 : mUtil.isInResponsiveRange("tablet") && mUtil.isset(p.options.submenu, "tablet") ? p.options.submenu.tablet : !(!mUtil.isInResponsiveRange("mobile") || !mUtil.isset(p.options.submenu, "mobile")) && p.options.submenu.mobile }, isConditionalSubmenuDropdown: function () { return !(!mUtil.isInResponsiveRange("desktop") || !mUtil.isset(p.options.submenu, "desktop.state.body")) }, handleLinkClick: function (t) { !1 === f.eventTrigger("linkClick", this) && t.preventDefault(), "dropdown" !== f.getSubmenuMode() && !f.isConditionalSubmenuDropdown() || f.handleSubmenuDropdownClose(t, this) }, handleSubmenuDrodownHoverEnter: function (t) { var e; "accordion" !== f.getSubmenuMode() && !1 !== p.resumeDropdownHover() && ("1" == (e = this).getAttribute("data-hover") && (e.removeAttribute("data-hover"), clearTimeout(e.getAttribute("data-timeout")), e.removeAttribute("data-timeout")), f.showSubmenuDropdown(e)) }, handleSubmenuDrodownHoverExit: function (t) { var e, a, n; !1 !== p.resumeDropdownHover() && "accordion" !== f.getSubmenuMode() && (e = this, a = p.options.dropdown.timeout, n = setTimeout(function () { "1" == e.getAttribute("data-hover") && f.hideSubmenuDropdown(e, !0) }, a), e.setAttribute("data-hover", "1"), e.setAttribute("data-timeout", n)) }, handleSubmenuDropdownClick: function (t) { var e; "accordion" === f.getSubmenuMode() || "accordion" != (e = this.closest(".m-menu__item")).getAttribute("m-menu-submenu-mode") && (!1 === mUtil.hasClass(e, "m-menu__item--hover") ? (mUtil.addClass(e, "m-menu__item--open-dropdown"), f.showSubmenuDropdown(e)) : (mUtil.removeClass(e, "m-menu__item--open-dropdown"), f.hideSubmenuDropdown(e, !0)), t.preventDefault()) }, handleSubmenuDropdownTabClick: function (t) { var e; "accordion" === f.getSubmenuMode() || "accordion" != (e = this.closest(".m-menu__item")).getAttribute("m-menu-submenu-mode") && (0 == mUtil.hasClass(e, "m-menu__item--hover") && (mUtil.addClass(e, "m-menu__item--open-dropdown"), f.showSubmenuDropdown(e)), t.preventDefault()) }, handleSubmenuDropdownClose: function (t, e) { if ("accordion" !== f.getSubmenuMode()) { var a = d.querySelectorAll(".m-menu__item.m-menu__item--submenu.m-menu__item--hover:not(.m-menu__item--tabs)"); if (0 < a.length && !1 === mUtil.hasClass(e, "m-menu__toggle") && 0 === e.querySelectorAll(".m-menu__toggle").length) for (var n = 0, o = a.length; n < o; n++)f.hideSubmenuDropdown(a[0], !0) } }, handleSubmenuAccordion: function (t, e) { var a, n = e || this; if ("dropdown" === f.getSubmenuMode() && (a = n.closest(".m-menu__item")) && "accordion" != a.getAttribute("m-menu-submenu-mode")) t.preventDefault(); else { var o = n.closest(".m-menu__item"), i = mUtil.child(o, ".m-menu__submenu, .m-menu__inner"); if (!mUtil.hasClass(n.closest(".m-menu__item"), "m-menu__item--open-always") && o && i) { t.preventDefault(); var l = p.options.accordion.slideSpeed; if (!1 === mUtil.hasClass(o, "m-menu__item--open")) { if (!1 === p.options.accordion.expandAll) { var r = n.closest(".m-menu__nav, .m-menu__subnav"), s = mUtil.children(r, ".m-menu__item.m-menu__item--open.m-menu__item--submenu:not(.m-menu__item--expanded):not(.m-menu__item--open-always)"); if (r && s) for (var d = 0, c = s.length; d < c; d++) { var m = s[0], u = mUtil.child(m, ".m-menu__submenu"); u && mUtil.slideUp(u, l, function () { mUtil.removeClass(m, "m-menu__item--open") }) } } mUtil.slideDown(i, l, function () {  }), mUtil.addClass(o, "m-menu__item--open") } else mUtil.slideUp(i, l, function () {  }), mUtil.removeClass(o, "m-menu__item--open") } } }, scrollToItem: function (t) { mUtil.isInResponsiveRange("desktop") && p.options.accordion.autoScroll && "1" !== d.getAttribute("m-menu-scrollable") && mUtil.scrollToCenter(t, p.options.accordion.autoScrollSpeed) }, hideSubmenuDropdown: function (t, e) { e && (mUtil.removeClass(t, "m-menu__item--hover"), mUtil.removeClass(t, "m-menu__item--active-tab")), t.removeAttribute("data-hover"), t.getAttribute("m-menu-dropdown-toggle-class") && mUtil.removeClass(i, t.getAttribute("m-menu-dropdown-toggle-class")); var a = t.getAttribute("data-timeout"); t.removeAttribute("data-timeout"), clearTimeout(a) }, showSubmenuDropdown: function (t) { var e = d.querySelectorAll(".m-menu__item--submenu.m-menu__item--hover, .m-menu__item--submenu.m-menu__item--active-tab"); if (e) for (var a = 0, n = e.length; a < n; a++) { var o = e[a]; t !== o && !1 === o.contains(t) && !1 === t.contains(o) && f.hideSubmenuDropdown(o, !0) } f.adjustSubmenuDropdownArrowPos(t), mUtil.addClass(t, "m-menu__item--hover"), t.getAttribute("m-menu-dropdown-toggle-class") && mUtil.addClass(i, t.getAttribute("m-menu-dropdown-toggle-class")) }, createSubmenuDropdownClickDropoff: function (e) { var t, a = (t = mUtil.child(e, ".m-menu__submenu") ? mUtil.css(t, "z-index") : 0) - 1, n = document.createElement('<div class="m-menu__dropoff" style="background: transparent; position: fixed; top: 0; bottom: 0; left: 0; right: 0; z-index: ' + a + '"></div>'); i.appendChild(n), mUtil.addEvent(n, "click", function (t) { t.stopPropagation(), t.preventDefault(), mUtil.remove(this), f.hideSubmenuDropdown(e, !0) }) }, adjustSubmenuDropdownArrowPos: function (t) { var e, a = mUtil.child(t, ".m-menu__submenu"), n = mUtil.child(a, ".m-menu__arrow.m-menu__arrow--adjust"); mUtil.child(a, ".m-menu__subnav"), n && (e = 0, mUtil.child(t, ".m-menu__link"), mUtil.hasClass(a, "m-menu__submenu--classic") || mUtil.hasClass(a, "m-menu__submenu--fixed") ? mUtil.hasClass(a, "m-menu__submenu--right") ? (e = mUtil.outerWidth(t) / 2, mUtil.hasClass(a, "m-menu__submenu--pull") && (e += Math.abs(parseFloat(mUtil.css(a, "margin-right")))), e = parseInt(mUtil.css(a, "width")) - e) : mUtil.hasClass(a, "m-menu__submenu--left") && (e = mUtil.outerWidth(t) / 2, mUtil.hasClass(a, "m-menu__submenu--pull") && (e += Math.abs(parseFloat(mUtil.css(a, "margin-left"))))) : (mUtil.hasClass(a, "m-menu__submenu--center") || mUtil.hasClass(a, "m-menu__submenu--full")) && (e = mUtil.offset(t).left - (mUtil.getViewPort().width - parseInt(mUtil.css(a, "width"))) / 2, e += mUtil.outerWidth(t) / 2), mUtil.css(n, "left", e + "px")) }, pauseDropdownHover: function (t) { var e = new Date; p.pauseDropdownHoverTime = e.getTime() + t }, resumeDropdownHover: function () { return (new Date).getTime() > p.pauseDropdownHoverTime }, resetActiveItem: function (t) { for (var e, a, n = 0, o = (e = d.querySelectorAll(".m-menu__item--active")).length; n < o; n++) { var i = e[0]; mUtil.removeClass(i, "m-menu__item--active"), mUtil.hide(mUtil.child(i, ".m-menu__submenu")); for (var l = 0, r = (a = mUtil.parents(i, ".m-menu__item--submenu")).length; l < r; l++) { var s = a[n]; mUtil.removeClass(s, "m-menu__item--open"), mUtil.hide(mUtil.child(s, ".m-menu__submenu")) } } if (!1 === p.options.accordion.expandAll && (e = d.querySelectorAll(".m-menu__item--open"))) for (n = 0, o = e.length; n < o; n++)mUtil.removeClass(a[0], "m-menu__item--open") }, setActiveItem: function (t) { f.resetActiveItem(), mUtil.addClass(t, "m-menu__item--active"); for (var e = mUtil.parents(t, ".m-menu__item--submenu"), a = 0, n = e.length; a < n; a++)mUtil.addClass(e[a], "m-menu__item--open") }, getBreadcrumbs: function (t) { var e, a = [], n = mUtil.child(t, ".m-menu__link"); a.push({ text: e = mUtil.child(n, ".m-menu__link-text") ? e.innerHTML : "", title: n.getAttribute("title"), href: n.getAttribute("href") }); for (var o = mUtil.parents(t, ".m-menu__item--submenu"), i = 0, l = o.length; i < l; i++) { var r = mUtil.child(o[i], ".m-menu__link"); a.push({ text: e = mUtil.child(r, ".m-menu__link-text") ? e.innerHTML : "", title: r.getAttribute("title"), href: r.getAttribute("href") }) } return a.reverse() }, getPageTitle: function (t) { return mUtil.child(t, ".m-menu__link-text") ? (void 0).innerHTML : "" }, eventTrigger: function (t, e) { for (var a = 0; a < p.events.length; a++) { var n = p.events[a]; n.name == t && (1 == n.one ? 0 == n.fired && (p.events[a].fired = !0, n.handler.call(this, p, e)) : n.handler.call(this, p, e)) } }, addEvent: function (t, e, a) { p.events.push({ name: t, handler: e, one: a, fired: !1 }) } }; return p.setDefaults = function (t) { n = t }, p.setActiveItem = function (t) { return f.setActiveItem(t) }, p.reload = function () { return f.reload() }, p.getBreadcrumbs = function (t) { return f.getBreadcrumbs(t) }, p.getPageTitle = function (t) { return f.getPageTitle(t) }, p.getSubmenuMode = function () { return f.getSubmenuMode() }, p.hideDropdown = function (t) { f.hideSubmenuDropdown(t, !0) }, p.pauseDropdownHover = function (t) { f.pauseDropdownHover(t) }, p.resumeDropdownHover = function () { return f.resumeDropdownHover() }, p.on = function (t, e) { return f.addEvent(t, e) }, p.one = function (t, e) { return f.addEvent(t, e, !0) }, f.construct.apply(p, [e]), mUtil.addResizeHandler(function () { a && p.reload() }), a = !0, p } }; document.addEventListener("click", function (t) { var e; if (e = mUtil.get("body").querySelectorAll('.m-menu__nav .m-menu__item.m-menu__item--submenu.m-menu__item--hover:not(.m-menu__item--tabs)[m-menu-submenu-toggle="click"]')) for (var a = 0, n = e.length; a < n; a++) { var o = e[a].closest(".m-menu__nav").parentNode; if (o) { var i, l = mUtil.data(o).get("menu"); if (!l) break; if (!l || "dropdown" !== l.getSubmenuMode()) break; if (t.target !== o && !1 === o.contains(t.target) && (i = o.querySelectorAll('.m-menu__item--submenu.m-menu__item--hover:not(.m-menu__item--tabs)[m-menu-submenu-toggle="click"]'))) for (var r = 0, s = i.length; r < s; r++)l.hideDropdown(i[r]) } } }); var mOffcanvas = function (t, e) { var l = this, a = mUtil.get(t), n = mUtil.get("body"); if (a) { var o = {}, i = { construct: function (t) { return mUtil.data(a).has("offcanvas") ? l = mUtil.data(a).get("offcanvas") : (i.init(t), i.build(), mUtil.data(a).set("offcanvas", l)), l }, init: function (t) { l.events = [], l.options = mUtil.deepExtend({}, o, t), l.overlay, l.classBase = l.options.baseClass, l.classShown = l.classBase + "--on", l.classOverlay = l.classBase + "-overlay", l.state = mUtil.hasClass(a, l.classShown) ? "shown" : "hidden" }, build: function () { if (l.options.toggleBy) if ("string" == typeof l.options.toggleBy) mUtil.addEvent(l.options.toggleBy, "click", i.toggle); else if (l.options.toggleBy && l.options.toggleBy[0] && l.options.toggleBy[0].target) for (var t in l.options.toggleBy) mUtil.addEvent(l.options.toggleBy[t].target, "click", i.toggle); else l.options.toggleBy && l.options.toggleBy.target && mUtil.addEvent(l.options.toggleBy.target, "click", i.toggle); var e = mUtil.get(l.options.closeBy); e && mUtil.addEvent(e, "click", i.hide) }, toggle: function () { i.eventTrigger("toggle"), "shown" == l.state ? i.hide(this) : i.show(this) }, show: function (e) { "shown" != l.state && (i.eventTrigger("beforeShow"), i.togglerClass(e, "show"), mUtil.addClass(n, l.classShown), mUtil.addClass(a, l.classShown), l.state = "shown", l.options.overlay && (l.overlay = mUtil.insertAfter(document.createElement("DIV"), a), mUtil.addClass(l.overlay, l.classOverlay), mUtil.addEvent(l.overlay, "click", function (t) { t.stopPropagation(), t.preventDefault(), i.hide(e) })), i.eventTrigger("afterShow")) }, hide: function (t) { "hidden" != l.state && (i.eventTrigger("beforeHide"), i.togglerClass(t, "hide"), mUtil.removeClass(n, l.classShown), mUtil.removeClass(a, l.classShown), l.state = "hidden", l.options.overlay && l.overlay && mUtil.remove(l.overlay), i.eventTrigger("afterHide")) }, togglerClass: function (t, e) { var a, n, o = mUtil.attr(t, "id"); if (l.options.toggleBy && l.options.toggleBy[0] && l.options.toggleBy[0].target) for (var i in l.options.toggleBy) l.options.toggleBy[i].target === o && (a = l.options.toggleBy[i]); else l.options.toggleBy && l.options.toggleBy.target && (a = l.options.toggleBy); a && (n = mUtil.get(a.target), "show" === e && mUtil.addClass(n, a.state), "hide" === e && mUtil.removeClass(n, a.state)) }, eventTrigger: function (t, e) { for (var a = 0; a < l.events.length; a++) { var n = l.events[a]; n.name == t && (1 == n.one ? 0 == n.fired && (l.events[a].fired = !0, n.handler.call(this, l, e)) : n.handler.call(this, l, e)) } }, addEvent: function (t, e, a) { l.events.push({ name: t, handler: e, one: a, fired: !1 }) } }; return l.setDefaults = function (t) { o = t }, l.hide = function () { return i.hide() }, l.show = function () { return i.show() }, l.on = function (t, e) { return i.addEvent(t, e) }, l.one = function (t, e) { return i.addEvent(t, e, !0) }, i.construct.apply(l, [e]), l } }, mPortlet = function (t, e) { var s = this, d = mUtil.get(t), c = mUtil.get("body"); if (d) { var a = { bodyToggleSpeed: 400, tooltips: !0, tools: { toggle: { collapse: "Collapse", expand: "Expand" }, reload: "Reload", remove: "Remove", fullscreen: { on: "Fullscreen", off: "Exit Fullscreen" } } }, o = { construct: function (t) { return mUtil.data(d).has("portlet") ? s = mUtil.data(d).get("portlet") : (o.init(t), o.build(), mUtil.data(d).set("portlet", s)), s }, init: function (t) { s.element = d, s.events = [], s.options = mUtil.deepExtend({}, a, t), s.head = mUtil.child(d, ".m-portlet__head"), mUtil.child(d, ".m-portlet__body") ? s.body = mUtil.child(d, ".m-portlet__body") : 0 !== mUtil.child(d, ".m-form").length && (s.body = mUtil.child(d, ".m-form")) }, build: function () { var t = mUtil.find(s.head, "[m-portlet-tool=remove]"); t && mUtil.addEvent(t, "click", function (t) { t.preventDefault(), o.remove() }); var e = mUtil.find(s.head, "[m-portlet-tool=reload]"); e && mUtil.addEvent(e, "click", function (t) { t.preventDefault(), o.reload() }); var a = mUtil.find(s.head, "[m-portlet-tool=toggle]"); a && mUtil.addEvent(a, "click", function (t) { t.preventDefault(), o.toggle() }); var n = mUtil.find(s.head, "[m-portlet-tool=fullscreen]"); n && mUtil.addEvent(n, "click", function (t) { t.preventDefault(), o.fullscreen() }), o.setupTooltips() }, remove: function () { !1 !== o.eventTrigger("beforeRemove") && (mUtil.hasClass(c, "m-portlet--fullscreen") && mUtil.hasClass(d, "m-portlet--fullscreen") && o.fullscreen("off"), o.removeTooltips(), mUtil.remove(d), o.eventTrigger("afterRemove")) }, setContent: function (t) { t && (s.body.innerHTML = t) }, getBody: function () { return s.body }, getSelf: function () { return d }, setupTooltips: function () { var t, e, a, n, o, i, l, r; s.options.tooltips && (t = mUtil.hasClass(d, "m-portlet--collapse") || mUtil.hasClass(d, "m-portlet--collapsed"), e = mUtil.hasClass(c, "m-portlet--fullscreen") && mUtil.hasClass(d, "m-portlet--fullscreen"), (a = mUtil.find(s.head, "[m-portlet-tool=remove]")) && (n = e ? "bottom" : "top", o = new Tooltip(a, { title: s.options.tools.remove, placement: n, offset: e ? "0,10px,0,0" : "0,5px", trigger: "hover", template: '<div class="m-tooltip m-tooltip--portlet tooltip bs-tooltip-' + n + '" role="tooltip">                            <div class="tooltip-arrow arrow"></div>                            <div class="tooltip-inner"></div>                        </div>' }), mUtil.data(a).set("tooltip", o)), (i = mUtil.find(s.head, "[m-portlet-tool=reload]")) && (n = e ? "bottom" : "top", o = new Tooltip(i, { title: s.options.tools.reload, placement: n, offset: e ? "0,10px,0,0" : "0,5px", trigger: "hover", template: '<div class="m-tooltip m-tooltip--portlet tooltip bs-tooltip-' + n + '" role="tooltip">                            <div class="tooltip-arrow arrow"></div>                            <div class="tooltip-inner"></div>                        </div>' }), mUtil.data(i).set("tooltip", o)), (l = mUtil.find(s.head, "[m-portlet-tool=toggle]")) && (n = e ? "bottom" : "top", o = new Tooltip(l, { title: t ? s.options.tools.toggle.expand : s.options.tools.toggle.collapse, placement: n, offset: e ? "0,10px,0,0" : "0,5px", trigger: "hover", template: '<div class="m-tooltip m-tooltip--portlet tooltip bs-tooltip-' + n + '" role="tooltip">                            <div class="tooltip-arrow arrow"></div>                            <div class="tooltip-inner"></div>                        </div>' }), mUtil.data(l).set("tooltip", o)), (r = mUtil.find(s.head, "[m-portlet-tool=fullscreen]")) && (n = e ? "bottom" : "top", o = new Tooltip(r, { title: e ? s.options.tools.fullscreen.off : s.options.tools.fullscreen.on, placement: n, offset: e ? "0,10px,0,0" : "0,5px", trigger: "hover", template: '<div class="m-tooltip m-tooltip--portlet tooltip bs-tooltip-' + n + '" role="tooltip">                            <div class="tooltip-arrow arrow"></div>                            <div class="tooltip-inner"></div>                        </div>' }), mUtil.data(r).set("tooltip", o))) }, removeTooltips: function () { var t, e, a, n; s.options.tooltips && ((t = mUtil.find(s.head, "[m-portlet-tool=remove]")) && mUtil.data(t).has("tooltip") && mUtil.data(t).get("tooltip").dispose(), (e = mUtil.find(s.head, "[m-portlet-tool=reload]")) && mUtil.data(e).has("tooltip") && mUtil.data(e).get("tooltip").dispose(), (a = mUtil.find(s.head, "[m-portlet-tool=toggle]")) && mUtil.data(a).has("tooltip") && mUtil.data(a).get("tooltip").dispose(), (n = mUtil.find(s.head, "[m-portlet-tool=fullscreen]")) && mUtil.data(n).has("tooltip") && mUtil.data(n).get("tooltip").dispose()) }, reload: function () { o.eventTrigger("reload") }, toggle: function () { mUtil.hasClass(d, "m-portlet--collapse") || mUtil.hasClass(d, "m-portlet--collapsed") ? o.expand() : o.collapse() }, collapse: function () { var t; !1 !== o.eventTrigger("beforeCollapse") && (mUtil.slideUp(s.body, s.options.bodyToggleSpeed, function () { o.eventTrigger("afterCollapse") }), mUtil.addClass(d, "m-portlet--collapse"), (t = mUtil.find(s.head, "[m-portlet-tool=toggle]")) && mUtil.data(t).has("tooltip") && mUtil.data(t).get("tooltip").updateTitleContent(s.options.tools.toggle.expand)) }, expand: function () { var t; !1 !== o.eventTrigger("beforeExpand") && (mUtil.slideDown(s.body, s.options.bodyToggleSpeed, function () { o.eventTrigger("afterExpand") }), mUtil.removeClass(d, "m-portlet--collapse"), mUtil.removeClass(d, "m-portlet--collapsed"), (t = mUtil.find(s.head, "[m-portlet-tool=toggle]")) && mUtil.data(t).has("tooltip") && mUtil.data(t).get("tooltip").updateTitleContent(s.options.tools.toggle.collapse)) }, fullscreen: function (t) { "off" === t || mUtil.hasClass(c, "m-portlet--fullscreen") && mUtil.hasClass(d, "m-portlet--fullscreen") ? (o.eventTrigger("beforeFullscreenOff"), mUtil.removeClass(c, "m-portlet--fullscreen"), mUtil.removeClass(d, "m-portlet--fullscreen"), o.removeTooltips(), o.setupTooltips(), o.eventTrigger("afterFullscreenOff")) : (o.eventTrigger("beforeFullscreenOn"), mUtil.addClass(d, "m-portlet--fullscreen"), mUtil.addClass(c, "m-portlet--fullscreen"), o.removeTooltips(), o.setupTooltips(), o.eventTrigger("afterFullscreenOn")) }, eventTrigger: function (t) { for (i = 0; i < s.events.length; i++) { var e = s.events[i]; e.name == t && (1 == e.one ? 0 == e.fired && (s.events[i].fired = !0, e.handler.call(this, s)) : e.handler.call(this, s)) } }, addEvent: function (t, e, a) { return s.events.push({ name: t, handler: e, one: a, fired: !1 }), s } }; return s.setDefaults = function (t) { a = t }, s.remove = function () { return o.remove(html) }, s.reload = function () { return o.reload() }, s.setContent = function (t) { return o.setContent(t) }, s.toggle = function () { return o.toggle() }, s.collapse = function () { return o.collapse() }, s.expand = function () { return o.expand() }, s.fullscreen = function () { return o.fullscreen("on") }, s.unFullscreen = function () { return o.fullscreen("off") }, s.getBody = function () { return o.getBody() }, s.getSelf = function () { return o.getSelf() }, s.on = function (t, e) { return o.addEvent(t, e) }, s.one = function (t, e) { return o.addEvent(t, e, !0) }, o.construct.apply(s, [e]), s } }, mQuicksearch = function (t, e) { var n = this, a = mUtil.get(t), o = mUtil.get("body"); if (a) { var l = { mode: "default", minLength: 1, maxHeight: 300, requestTimeout: 200, inputTarget: "m_quicksearch_input", iconCloseTarget: "m_quicksearch_close", iconCancelTarget: "m_quicksearch_cancel", iconSearchTarget: "m_quicksearch_search", spinnerClass: "m-loader m-loader--skin-light m-loader--right", hasResultClass: "m-list-search--has-result", templates: { error: '<div class="m-search-results m-search-results--skin-light"><span class="m-search-result__message">{{message}}</div></div>' } }, r = { construct: function (t) { return mUtil.data(a).has("quicksearch") ? n = mUtil.data(a).get("quicksearch") : (r.init(t), r.build(), mUtil.data(a).set("quicksearch", n)), n }, init: function (t) { n.element = a, n.events = [], n.options = mUtil.deepExtend({}, l, t), n.query = "", n.form = mUtil.find(a, "form"), n.input = mUtil.get(n.options.inputTarget), n.iconClose = mUtil.get(n.options.iconCloseTarget), "default" == n.options.mode && (n.iconSearch = mUtil.get(n.options.iconSearchTarget), n.iconCancel = mUtil.get(n.options.iconCancelTarget)), n.dropdown = new mDropdown(a, { mobileOverlay: !1 }), n.cancelTimeout, n.processing = !1, n.requestTimeout = !1 }, build: function () { mUtil.addEvent(n.input, "keyup", r.search), "default" == n.options.mode ? (mUtil.addEvent(n.input, "focus", r.showDropdown), mUtil.addEvent(n.iconCancel, "click", r.handleCancel), mUtil.addEvent(n.iconSearch, "click", function () { mUtil.isInResponsiveRange("tablet-and-mobile") && (mUtil.addClass(o, "m-header-search--mobile-expanded"), n.input.focus()) }), mUtil.addEvent(n.iconClose, "click", function () { mUtil.isInResponsiveRange("tablet-and-mobile") && (mUtil.removeClass(o, "m-header-search--mobile-expanded"), r.closeDropdown()) })) : "dropdown" == n.options.mode && (n.dropdown.on("afterShow", function () { n.input.focus() }), mUtil.addEvent(n.iconClose, "click", r.closeDropdown)) }, showProgress: function () { return n.processing = !0, mUtil.addClass(n.form, n.options.spinnerClass), r.handleCancelIconVisibility("off"), n }, hideProgress: function () { return n.processing = !1, mUtil.removeClass(n.form, n.options.spinnerClass), r.handleCancelIconVisibility("on"), mUtil.addClass(a, n.options.hasResultClass), n }, search: function (t) { if (n.query = n.input.value, 0 === n.query.length && (r.handleCancelIconVisibility("on"), mUtil.removeClass(a, n.options.hasResultClass), mUtil.removeClass(n.form, n.options.spinnerClass)), !(n.query.length < n.options.minLength || 1 == n.processing)) return n.requestTimeout && clearTimeout(n.requestTimeout), n.requestTimeout = !1, n.requestTimeout = setTimeout(function () { r.eventTrigger("search") }, n.options.requestTimeout), n }, handleCancelIconVisibility: function (t) { "on" == t ? 0 === n.input.value.length ? (n.iconCancel && mUtil.css(n.iconCancel, "visibility", "hidden"), n.iconClose && mUtil.css(n.iconClose, "visibility", "visible")) : (clearTimeout(n.cancelTimeout), n.cancelTimeout = setTimeout(function () { n.iconCancel && mUtil.css(n.iconCancel, "visibility", "visible"), n.iconClose && mUtil.css(n.iconClose, "visibility", "visible") }, 500)) : (n.iconCancel && mUtil.css(n.iconCancel, "visibility", "hidden"), n.iconClose && mUtil.css(n.iconClose, "visibility", "hidden")) }, handleCancel: function (t) { n.input.value = "", mUtil.css(n.iconCancel, "visibility", "hidden"), mUtil.removeClass(a, n.options.hasResultClass), r.closeDropdown() }, closeDropdown: function () { n.dropdown.hide() }, showDropdown: function (t) { 0 == n.dropdown.isShown() && n.input.value.length > n.options.minLength && 0 == n.processing && (console.log("show!!!"), n.dropdown.show(), t && (t.preventDefault(), t.stopPropagation())) }, eventTrigger: function (t) { for (i = 0; i < n.events.length; i++) { var e = n.events[i]; e.name == t && (1 == e.one ? 0 == e.fired && (n.events[i].fired = !0, e.handler.call(this, n)) : e.handler.call(this, n)) } }, addEvent: function (t, e, a) { return n.events.push({ name: t, handler: e, one: a, fired: !1 }), n } }; return n.setDefaults = function (t) { l = t }, n.search = function () { return r.handleSearch() }, n.showResult = function (t) { return n.dropdown.setContent(t), r.showDropdown(), n }, n.showError = function (t) { var e = n.options.templates.error.replace("{{message}}", t); return n.dropdown.setContent(e), r.showDropdown(), n }, n.showProgress = function () { return r.showProgress() }, n.hideProgress = function () { return r.hideProgress() }, n.search = function () { return r.search() }, n.on = function (t, e) { return r.addEvent(t, e) }, n.one = function (t, e) { return r.addEvent(t, e, !0) }, r.construct.apply(n, [e]), n } }, mScrollTop = function (t, e) { var o = this, a = mUtil.get(t), n = mUtil.get("body"); if (a) { var i = { offset: 300, speed: 600 }, l = { construct: function (t) { return mUtil.data(a).has("scrolltop") ? o = mUtil.data(a).get("scrolltop") : (l.init(t), l.build(), mUtil.data(a).set("scrolltop", o)), o }, init: function (t) { o.events = [], o.options = mUtil.deepExtend({}, i, t) }, build: function () { navigator.userAgent.match(/iPhone|iPad|iPod/i) ? (window.addEventListener("touchend", function () { l.handle() }), window.addEventListener("touchcancel", function () { l.handle() }), window.addEventListener("touchleave", function () { l.handle() })) : window.addEventListener("scroll", function () { l.handle() }), mUtil.addEvent(a, "click", l.scroll) }, handle: function () { window.pageYOffset > o.options.offset ? mUtil.addClass(n, "m-scroll-top--shown") : mUtil.removeClass(n, "m-scroll-top--shown") }, scroll: function (t) { t.preventDefault(), mUtil.scrollTop(o.options.speed) }, eventTrigger: function (t, e) { for (var a = 0; a < o.events.length; a++) { var n = o.events[a]; n.name == t && (1 == n.one ? 0 == n.fired && (o.events[a].fired = !0, n.handler.call(this, o, e)) : n.handler.call(this, o, e)) } }, addEvent: function (t, e, a) { o.events.push({ name: t, handler: e, one: a, fired: !1 }) } }; return o.setDefaults = function (t) { i = t }, o.on = function (t, e) { return l.addEvent(t, e) }, o.one = function (t, e) { return l.addEvent(t, e, !0) }, l.construct.apply(o, [e]), o } }, mToggle = function (t, e) { var n = this, a = mUtil.get(t); if (mUtil.get("body"), a) { var o = { togglerState: "", targetState: "" }, l = { construct: function (t) { return mUtil.data(a).has("toggle") ? n = mUtil.data(a).get("toggle") : (l.init(t), l.build(), mUtil.data(a).set("toggle", n)), n }, init: function (t) { n.element = a, n.events = [], n.options = mUtil.deepExtend({}, o, t), n.target = mUtil.get(n.options.target), n.targetState = n.options.targetState, n.togglerState = n.options.togglerState, n.state = mUtil.hasClasses(n.target, n.targetState) ? "on" : "off" }, build: function () { mUtil.addEvent(a, "mouseup", l.toggle) }, toggle: function () { return "off" == n.state ? l.toggleOn() : l.toggleOff(), n }, toggleOn: function () { return l.eventTrigger("beforeOn"), mUtil.addClass(n.target, n.targetState), n.togglerState && mUtil.addClass(a, n.togglerState), n.state = "on", l.eventTrigger("afterOn"), l.eventTrigger("toggle"), n }, toggleOff: function () { return l.eventTrigger("beforeOff"), mUtil.removeClass(n.target, n.targetState), n.togglerState && mUtil.removeClass(a, n.togglerState), n.state = "off", l.eventTrigger("afterOff"), l.eventTrigger("toggle"), n }, eventTrigger: function (t) { for (i = 0; i < n.events.length; i++) { var e = n.events[i]; e.name == t && (1 == e.one ? 0 == e.fired && (n.events[i].fired = !0, e.handler.call(this, n)) : e.handler.call(this, n)) } }, addEvent: function (t, e, a) { return n.events.push({ name: t, handler: e, one: a, fired: !1 }), n } }; return n.setDefaults = function (t) { o = t }, n.getState = function () { return n.state }, n.toggle = function () { return l.toggle() }, n.toggleOn = function () { return l.toggleOn() }, n.toggle = function () { return l.toggleOff() }, n.on = function (t, e) { return l.addEvent(t, e) }, n.one = function (t, e) { return l.addEvent(t, e, !0) }, l.construct.apply(n, [e]), n } }, mWizard = function (t, e) { var l = this, o = mUtil.get(t); if (mUtil.get("body"), o) { var a = { startStep: 1, manualStepForward: !1 }, r = { construct: function (t) { return mUtil.data(o).has("wizard") ? l = mUtil.data(o).get("wizard") : (r.init(t), r.build(), mUtil.data(o).set("wizard", l)), l }, init: function (t) { l.element = o, l.events = [], l.options = mUtil.deepExtend({}, a, t), l.steps = mUtil.findAll(o, ".m-wizard__step"), l.progress = mUtil.find(o, ".m-wizard__progress .progress-bar"), l.btnSubmit = mUtil.find(o, '[data-wizard-action="submit"]'), l.btnNext = mUtil.find(o, '[data-wizard-action="next"]'), l.btnPrev = mUtil.find(o, '[data-wizard-action="prev"]'), l.btnLast = mUtil.find(o, '[data-wizard-action="last"]'), l.btnFirst = mUtil.find(o, '[data-wizard-action="first"]'), l.events = [], l.currentStep = 1, l.totalSteps = l.steps.length, 1 < l.options.startStep && r.goTo(l.options.startStep), r.updateUI() }, build: function () { mUtil.addEvent(l.btnNext, "click", function (t) { t.preventDefault(), r.goNext() }), mUtil.addEvent(l.btnPrev, "click", function (t) { t.preventDefault(), r.goPrev() }), mUtil.addEvent(l.btnFirst, "click", function (t) { t.preventDefault(), r.goFirst() }), mUtil.addEvent(l.btnLast, "click", function (t) { t.preventDefault(), r.goLast() }), mUtil.on(o, ".m-wizard__step a.m-wizard__step-number", "click", function () { for (var t, e = this.closest(".m-wizard__step"), a = mUtil.parents(this, ".m-wizard__steps"), n = mUtil.findAll(a, ".m-wizard__step"), o = 0, i = n.length; o < i; o++)if (e === n[o]) { t = o + 1; break } t && (!1 !== l.options.manualStepForward || t < l.currentStep) && r.goTo(t) }) }, goTo: function (t) { if (t !== l.currentStep) return !1 !== ((t = t ? parseInt(t) : r.getNextStep()) > l.currentStep ? r.eventTrigger("beforeNext") : r.eventTrigger("beforePrev")) && (l.currentStep = t, r.updateUI(), r.eventTrigger("change")), t > l.startStep ? r.eventTrigger("afterNext") : r.eventTrigger("afterPrev"), l }, updateUI: function (t) { r.updateProgress(), r.handleTarget(), r.setStepClass(); for (var e = 0, a = l.steps.length; e < a; e++)mUtil.removeClass(l.steps[e], "m-wizard__step--current m-wizard__step--done"); for (e = 1; e < l.currentStep; e++)mUtil.addClass(l.steps[e - 1], "m-wizard__step--done"); mUtil.addClass(l.steps[l.currentStep - 1], "m-wizard__step--current") }, isLastStep: function () { return l.currentStep === l.totalSteps }, isFirstStep: function () { return 1 === l.currentStep }, isBetweenStep: function () { return !1 === r.isLastStep() && !1 === r.isFirstStep() }, setStepClass: function () { r.isLastStep() ? mUtil.addClass(o, "m-wizard--step-last") : mUtil.removeClass(o, "m-wizard--step-last"), r.isFirstStep() ? mUtil.addClass(o, "m-wizard--step-first") : mUtil.removeClass(o, "m-wizard--step-first"), r.isBetweenStep() ? mUtil.addClass(o, "m-wizard--step-between") : mUtil.removeClass(o, "m-wizard--step-between") }, goNext: function () { return r.goTo(r.getNextStep()) }, goPrev: function () { return r.goTo(r.getPrevStep()) }, goLast: function () { return r.goTo(l.totalSteps) }, goFirst: function () { return r.goTo(1) }, updateProgress: function () { var t, e, a, n; l.progress && (mUtil.hasClass(o, "m-wizard--1") ? (t = l.currentStep / l.totalSteps * 100, e = mUtil.find(o, ".m-wizard__step-number"), a = parseInt(mUtil.css(e, "width")), mUtil.css(l.progress, "width", "calc(" + t + "% + " + a / 2 + "px)")) : mUtil.hasClass(o, "m-wizard--2") ? (l.currentStep, n = (l.currentStep - 1) * (1 / (l.totalSteps - 1) * 100), mUtil.isInResponsiveRange("minimal-desktop-and-below") ? mUtil.css(l.progress, "height", n + "%") : mUtil.css(l.progress, "width", n + "%")) : (t = l.currentStep / l.totalSteps * 100, mUtil.css(l.progress, "width", t + "%"))) }, handleTarget: function () { var t = l.steps[l.currentStep - 1], e = mUtil.get(mUtil.attr(t, "m-wizard-target")), a = mUtil.find(o, ".m-wizard__form-step--current"); mUtil.removeClass(a, "m-wizard__form-step--current"), mUtil.addClass(e, "m-wizard__form-step--current") }, getNextStep: function () { return l.totalSteps >= l.currentStep + 1 ? l.currentStep + 1 : l.totalSteps }, getPrevStep: function () { return 1 <= l.currentStep - 1 ? l.currentStep - 1 : 1 }, eventTrigger: function (t) { for (i = 0; i < l.events.length; i++) { var e = l.events[i]; e.name == t && (1 == e.one ? 0 == e.fired && (l.events[i].fired = !0, e.handler.call(this, l)) : e.handler.call(this, l)) } }, addEvent: function (t, e, a) { return l.events.push({ name: t, handler: e, one: a, fired: !1 }), l } }; return l.setDefaults = function (t) { a = t }, l.goNext = function () { return r.goNext() }, l.goPrev = function () { return r.goPrev() }, l.goLast = function () { return r.goLast() }, l.goFirst = function () { return r.goFirst() }, l.goTo = function (t) { return r.goTo(t) }, l.getStep = function () { return l.currentStep }, l.isLastStep = function () { return r.isLastStep() }, l.isFirstStep = function () { return r.isFirstStep() }, l.on = function (t, e) { return r.addEvent(t, e) }, l.one = function (t, e) { return r.addEvent(t, e, !0) }, r.construct.apply(l, [e]), l } }; !function (l) { l.fn.mDatatable = l.fn.mDatatable || {}, l.fn.mDatatable.checkbox = function (n, o) { var i = { selectedAllRows: !1, selectedRows: [], unselectedRows: [], init: function () { i.selectorEnabled() && (o.vars.requestIds && n.setDataSourceParam(o.vars.requestIds, !0), i.selectedAllRows = n.getDataSourceParam(o.vars.selectedAllRows), l(n).on("m-datatable--on-layout-updated", function (t, e) { e.table == l(n.wrap).attr("id") && n.ready(function () { i.initVars(), i.initEvent(), i.initSelect() }) })) }, initEvent: function () { l(n.tableHead).find('.m-checkbox--all > [type="checkbox"]').click(function (t) { var e; i.selectedRows = i.unselectedRows = [], n.stateRemove("checkbox"), l(this).is(":checked") ? i.selectedAllRows = !0 : i.selectedAllRows = !1, o.vars.requestIds || (l(this).is(":checked") && (i.selectedRows = l.makeArray(l(n.tableBody).find('.m-checkbox--single > [type="checkbox"]').map(function (t, e) { return l(e).val() }))), (e = {}).selectedRows = l.unique(i.selectedRows), n.stateKeep("checkbox", e)), n.setDataSourceParam(o.vars.selectedAllRows, i.selectedAllRows), l(n).trigger("m-datatable--on-click-checkbox", [l(this)]) }), l(n.tableBody).find('.m-checkbox--single > [type="checkbox"]').click(function (t) { var e = l(this).val(); l(this).is(":checked") ? (i.selectedRows.push(e), i.unselectedRows = i.remove(i.unselectedRows, e)) : (i.unselectedRows.push(e), i.selectedRows = i.remove(i.selectedRows, e)), !o.vars.requestIds && i.selectedRows.length < 1 && l(n.tableHead).find('.m-checkbox--all > [type="checkbox"]').prop("checked", !1); var a = {}; a.selectedRows = l.unique(i.selectedRows), a.unselectedRows = l.unique(i.unselectedRows), n.stateKeep("checkbox", a), l(n).trigger("m-datatable--on-click-checkbox", [l(this)]) }) }, initSelect: function () { i.selectedAllRows && o.vars.requestIds ? (n.hasClass("m-datatable--error") || l(n.tableHead).find('.m-checkbox--all > [type="checkbox"]').prop("checked", !0), n.setActiveAll(!0), i.unselectedRows.forEach(function (t) { n.setInactive(t) })) : (i.selectedRows.forEach(function (t) { n.setActive(t) }), !n.hasClass("m-datatable--error") && l(n.tableBody).find('.m-checkbox--single > [type="checkbox"]').not(":checked").length < 1 && l(n.tableHead).find('.m-checkbox--all > [type="checkbox"]').prop("checked", !0)) }, selectorEnabled: function () { return l.grep(n.options.columns, function (t, e) { return t.selector || !1 })[0] }, initVars: function () { var t = n.stateGet("checkbox"); void 0 !== t && (i.selectedRows = t.selectedRows || [], i.unselectedRows = t.unselectedRows || []) }, getSelectedId: function (t) { if (i.initVars(), i.selectedAllRows && o.vars.requestIds) { void 0 === t && (t = o.vars.rowIds); var e = n.getObject(t, n.lastResponse) || []; return 0 < e.length && i.unselectedRows.forEach(function (t) { e = i.remove(e, parseInt(t)) }), e } return i.selectedRows }, remove: function (t, e) { return t.filter(function (t) { return t !== e }) } }; return n.checkbox = function () { return i }, "object" == typeof o && (o = l.extend(!0, {}, l.fn.mDatatable.checkbox.default, o), i.init.apply(this, [o])), n }, l.fn.mDatatable.checkbox.default = { vars: { selectedAllRows: "selectedAllRows", requestIds: "requestIds", rowIds: "meta.rowIds" } } }(jQuery), $.notifyDefaults({ template: '<div data-notify="container" class="alert alert-{0} m-alert" role="alert"><button type="button" aria-hidden="true" class="close" data-notify="dismiss"></button><span data-notify="icon"></span><span data-notify="title">{1}</span><span data-notify="message">{2}</span><div class="progress" data-notify="progressbar"><div class="progress-bar progress-bar-animated bg-{0}" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"></div></div><a href="{3}" target="{4}" data-notify="url"></a></div>' }), swal.setDefaults({ width: 400, padding: "2.5rem", buttonsStyling: !1, confirmButtonClass: "btn btn-success m-btn m-btn--custom", confirmButtonColor: null, cancelButtonClass: "btn btn-secondary m-btn m-btn--custom", cancelButtonColor: null }), Chart.elements.Rectangle.prototype.draw = function () { var t, e, a, n, o, i, l, r, s, d, c, m, u = this._chart.ctx, p = this._view, f = p.borderWidth, g = this._chart.options.barRadius ? this._chart.options.barRadius : 0, h = p.horizontal ? (t = p.base, e = p.x, a = p.y - p.height / 2, n = p.y + p.height / 2, o = t < e ? 1 : -1, i = 1, p.borderSkipped || "left") : (t = p.x - p.width / 2, e = p.x + p.width / 2, o = 1, i = (a = p.y > 2 * g ? p.y - g : p.y) < (n = p.base) ? 1 : -1, p.borderSkipped || "bottom"); f && (r = (f = (l = Math.min(Math.abs(t - e), Math.abs(a - n))) < f ? l : f) / 2, c = a + ("top" !== h ? r * i : 0), m = n + ("bottom" !== h ? -r * i : 0), (s = t + ("left" !== h ? r * o : 0)) !== (d = e + ("right" !== h ? -r * o : 0)) && (a = c, n = m), c !== m && (t = s, e = d)), u.beginPath(), u.fillStyle = p.backgroundColor, u.strokeStyle = p.borderColor, u.lineWidth = f; var b = [[t, n], [t, a], [e, a], [e, n]], v = ["bottom", "left", "top", "right"].indexOf(h, 0); function _(t) { return b[(v + t) % 4] } -1 === v && (v = 0); var w = _(0); u.moveTo(w[0], w[1]); for (var U = 1; U < 4; U++) { var C, w = _(U); nextCornerId = U + 1, 4 == nextCornerId && (nextCornerId = 0), nextCorner = _(nextCornerId), width = b[2][0] - b[1][0], height = b[0][1] - b[1][1], x = b[1][0], y = b[1][1], (C = g) > height / 2 && (C = height / 2), C > width / 2 && (C = width / 2), u.moveTo(x + C, y), u.lineTo(x + width - C, y), u.quadraticCurveTo(x + width, y, x + width, y + C), u.lineTo(x + width, y + height - C), u.quadraticCurveTo(x + width, y + height, x + width - C, y + height), u.lineTo(x + C, y + height), u.quadraticCurveTo(x, y + height, x, y + height - C), u.lineTo(x, y + C), u.quadraticCurveTo(x, y, x + C, y) } u.fill(), f && u.stroke() }, $.fn.markdown.defaults.iconlibrary = "fa", $.fn.timepicker.defaults = $.extend(!0, {}, $.fn.timepicker.defaults, { icons: { up: "la la-angle-up", down: "la la-angle-down" } }), jQuery.validator.setDefaults({ errorElement: "div", errorClass: "form-control-feedback", focusInvalid: !1, ignore: "", errorPlacement: function (t, e) { var a = 0 < $(e).closest(".m-form__group-sub").length ? $(e).closest(".m-form__group-sub") : $(e).closest(".m-form__group"), n = a.find(".m-form__help"); 0 === a.find(".form-control-feedback").length && (0 < n.length ? n.before(t) : 0 < $(e).closest(".input-group").length ? $(e).closest(".input-group").after(t) : $(e).is(":checkbox") ? $(e).closest(".m-checkbox").find(">span").after(t) : $(e).after(t)) }, highlight: function (t) { (0 < $(t).closest(".m-form__group-sub").length ? $(t).closest(".m-form__group-sub") : $(t).closest(".m-form__group")).addClass("has-danger") }, unhighlight: function (t) { (0 < $(t).closest(".m-form__group-sub").length ? $(t).closest(".m-form__group-sub") : $(t).closest(".m-form__group")).removeClass("has-danger") }, success: function (t, e) { var a = 0 < $(t).closest(".m-form__group-sub").length ? $(t).closest(".m-form__group-sub") : $(t).closest(".m-form__group"); a.removeClass("has-danger"), a.find(".form-control-feedback").remove() } }), jQuery.validator.addMethod("email", function (t, e) { return !!/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(t) }, "Please enter a valid Email."); var mLayout = function () { var i, l, r, n, s; return { init: function () { this.initHeader(), this.initAside() }, initHeader: function () { var t, e = mUtil.get("m_header"), a = { offset: {}, minimize: {} }; "hide" == mUtil.attr(e, "m-minimize-mobile") ? (a.minimize.mobile = {}, a.minimize.mobile.on = "m-header--hide", a.minimize.mobile.off = "m-header--show") : a.minimize.mobile = !1, "hide" == mUtil.attr(e, "m-minimize") ? (a.minimize.desktop = {}, a.minimize.desktop.on = "m-header--hide", a.minimize.desktop.off = "m-header--show") : a.minimize.desktop = !1, (t = mUtil.attr(e, "m-minimize-offset")) && (a.offset.desktop = t), (t = mUtil.attr(e, "m-minimize-mobile-offset")) && (a.offset.mobile = t), new mHeader("m_header", a), n = new mOffcanvas("m_header_menu", { overlay: !0, baseClass: "m-aside-header-menu-mobile", closeBy: "m_aside_header_menu_mobile_close_btn", toggleBy: { target: "m_aside_header_menu_mobile_toggle", state: "m-brand__toggler--active" } }), i = new mMenu("m_header_menu", { submenu: { desktop: "dropdown", tablet: "accordion", mobile: "accordion" }, accordion: { slideSpeed: 200, autoScroll: !0, expandAll: !1 } }), $("#m_aside_header_topbar_mobile_toggle").click(function () { $("body").toggleClass("m-topbar--on") }), setInterval(function () { $("#m_topbar_notification_icon .m-nav__link-icon").addClass("m-animate-shake"), $("#m_topbar_notification_icon .m-nav__link-badge").addClass("m-animate-blink") }, 3e3), setInterval(function () { $("#m_topbar_notification_icon .m-nav__link-icon").removeClass("m-animate-shake"), $("#m_topbar_notification_icon .m-nav__link-badge").removeClass("m-animate-blink") }, 6e3), 0 !== $("#m_quicksearch").length && new mQuicksearch("m_quicksearch", { mode: mUtil.attr("m_quicksearch", "m-quicksearch-mode"), minLength: 1 }).on("search", function (e) { e.showProgress(), $.ajax({ url: "https://keenthemes.com/metronic/preview/inc/api/quick_search.php", data: { query: e.query }, dataType: "html", success: function (t) { e.hideProgress(), e.showResult(t) }, error: function (t) { e.hideProgress(), e.showError("Connection error. Pleae try again later.") } }) }), new mScrollTop("m_scroll_top", { offset: 300, speed: 600 }) }, initAside: function () { var t, e, a, n; function o(t) { var e; mUtil.isInResponsiveRange("tablet-and-mobile") ? mApp.destroyScroller(t) : (e = mUtil.getViewPort().height - mUtil.css("m_header", "height"), mApp.initScroller(t, { height: e })) } t = mUtil.get("m_aside_left"), e = mUtil.hasClass(t, "m-aside-left--offcanvas-default") ? "m-aside-left--offcanvas-default" : "m-aside-left", r = new mOffcanvas("m_aside_left", { baseClass: e, overlay: !0, closeBy: "m_aside_left_close_btn", toggleBy: { target: "m_aside_left_offcanvas_toggle", state: "m-brand__toggler--active" } }), a = $("#m_ver_menu"), n = "1" === a.data("m-menu-dropdown") ? "dropdown" : "accordion", l = new mMenu("m_ver_menu", { submenu: { desktop: { default: n, state: { body: "m-aside-left--minimize", mode: "dropdown" } }, tablet: "accordion", mobile: "accordion" }, accordion: { autoScroll: !0, expandAll: !1 } }), "1" === a.data("m-menu-scrollable") && (o(a), mUtil.addResizeHandler(function () { o(l) })), 0 !== $("#m_aside_left_minimize_toggle").length && (s = new mToggle("m_aside_left_minimize_toggle", { target: "body", targetState: "m-brand--minimize m-aside-left--minimize", togglerState: "m-brand__toggler--active" })).on("toggle", function (t) { i.pauseDropdownHover(800), l.pauseDropdownHover(800), Cookies.set("sidebar_toggle_state", t.getState()) }), this.onLeftSidebarToggle(function (t) { var e = $(".m-datatable"); $(e).each(function () { $(this).mDatatable("redraw") }) }) }, getAsideMenu: function () { return l }, onLeftSidebarToggle: function (t) { s && s.on("toggle", t) }, closeMobileAsideMenuOffcanvas: function () { mUtil.isMobileDevice() && r.hide() }, closeMobileHorMenuOffcanvas: function () { mUtil.isMobileDevice() && n.hide() } } }(); $(document).ready(function () { !1 === mUtil.isAngularVersion() && mLayout.init() }); var mQuickSidebar = function () { var r = $("#m_quick_sidebar"), s = $("#m_quick_sidebar_tabs"), d = r.find(".m-quick-sidebar__content"); return { init: function () { 0 !== r.length && new mOffcanvas("m_quick_sidebar", { overlay: !0, baseClass: "m-quick-sidebar", closeBy: "m_quick_sidebar_close", toggleBy: "m_quick_sidebar_toggle" }).one("afterShow", function () { mApp.block(r), setTimeout(function () { var t, e, a, n, o, i, l; mApp.unblock(r), d.removeClass("m--hide"), 0 !== (l = $("#m_quick_sidebar_tabs_messenger")).length && (o = l.find(".m-messenger__messages"), (i = function () { var t = r.outerHeight(!0) - s.outerHeight(!0) - l.find(".m-messenger__form").outerHeight(!0) - 120; o.css("height", t), mApp.initScroller(o, {}) })(), mUtil.addResizeHandler(i)), 0 !== (n = $("#m_quick_sidebar_tabs_settings")).length && ((a = function () { var t = mUtil.getViewPort().height - s.outerHeight(!0) - 60; n.css("height", t), mApp.initScroller(n, {}) })(), mUtil.addResizeHandler(a)), 0 !== (e = $("#m_quick_sidebar_tabs_logs")).length && ((t = function () { var t = mUtil.getViewPort().height - s.outerHeight(!0) - 60; e.css("height", t), mApp.initScroller(e, {}) })(), mUtil.addResizeHandler(t)) }, 1e3) }) } } }(); $(document).ready(function () { mQuickSidebar.init() });